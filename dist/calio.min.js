var Calio=function(){"use strict";function e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=[],s=!0,n=!1,a=void 0;try{for(var r,o=e[Symbol.iterator]();!(s=(r=o.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){n=!0,a=e}finally{try{s||null==o.return||o.return()}finally{if(n)throw a}}return i}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function t(){}function i(e,t){for(var i in t)e[i]=t[i];return e}function s(e,t){for(var i in t)e[i]=1;return e}function n(e,t){t.appendChild(e)}function a(e,t,i){t.insertBefore(e,i)}function r(e){e.parentNode.removeChild(e)}function o(e){return document.createElement(e)}function l(e){return document.createTextNode(e)}var c={running:!1,transitions:[],bound:null,stylesheet:null,activeRules:{},add(e){this.transitions.push(e),this.running||(this.running=!0,requestAnimationFrame(this.bound||(this.bound=this.next.bind(this))))},addRule(e,t){if(!this.stylesheet){const e=o("style");document.head.appendChild(e),c.stylesheet=e.sheet}this.activeRules[t]||(this.activeRules[t]=!0,this.stylesheet.insertRule(`@keyframes ${t} ${e}`,this.stylesheet.cssRules.length))},next(){this.running=!1;const e=window.performance.now();let t=this.transitions.length;for(;t--;){const i=this.transitions[t];i.program&&e>=i.program.end&&i.done(),i.pending&&e>=i.pending.start&&i.start(i.pending),i.running?(i.update(e),this.running=!0):i.pending||this.transitions.splice(t,1)}if(this.running)requestAnimationFrame(this.bound);else if(this.stylesheet){let e=this.stylesheet.cssRules.length;for(;e--;)this.stylesheet.deleteRule(e);this.activeRules={}}},deleteRule(e,t){e.style.animation=e.style.animation.split(", ").filter(e=>e&&-1===e.indexOf(t)).join(", ")},groupOutros(){this.outros={remaining:0,callbacks:[]}}};function d(e,t){e.d(1),t[e.key]=null}function h(e,t){e.o(function(){d(e,t)})}function u(){return Object.create(null)}function m(e,t){e._handlers=u(),e._bind=t._bind,e.options=t,e.root=t.root||e,e.store=e.root.store||t.store}function f(e){for(;e&&e.length;)e.shift()()}var y={destroy:function(e){this.destroy=t,this.fire("destroy"),this.set=t,this._fragment.d(!1!==e),this._fragment=null,this._state={}},get:function(){return this._state},fire:function(e,t){var i=e in this._handlers&&this._handlers[e].slice();if(i)for(var s=0;s<i.length;s+=1){var n=i[s];n.__calling||(n.__calling=!0,n.call(this,t),n.__calling=!1)}},on:function(e,t){var i=this._handlers[e]||(this._handlers[e]=[]);return i.push(t),{cancel:function(){var e=i.indexOf(t);~e&&i.splice(e,1)}}},set:function(e){this._set(i({},e)),this.root._lock||(this.root._lock=!0,f(this.root._beforecreate),f(this.root._oncreate),f(this.root._aftercreate),this.root._lock=!1)},_recompute:t,_set:function(e){var t=this._state,s={},n=!1;for(var a in e)this._differs(e[a],t[a])&&(s[a]=n=!0);n&&(this._state=i(i({},t),e),this._recompute(s,this._state),this._bind&&this._bind(s,this._state),this._fragment&&(this.fire("state",{changed:s,current:this._state,previous:t}),this._fragment.p(s,this._state),this.fire("update",{changed:s,current:this._state,previous:t})))},_mount:function(e,t){this._fragment[this._fragment.i?"i":"m"](e,t||null)},_differs:function(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}};const v=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,g={masks:{default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},i18n:{dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]}};function p(e,t=2){for(e=`${e}`;e.length<t;)e=`0${e}`;return e}class _{constructor(...e){const t=e[0],i=e[1],s=e[2];e.length>1?this.value=new Date(t,i,s):t?t instanceof _?this.value=t.clone().value:t instanceof Date?this.value=t:["number","string"].includes(typeof t)&&(this.value=new Date(t)):this.value=new Date,this.value.setUTCHours(0),this.value.setUTCMinutes(0),this.value.setUTCSeconds(0),this.value.setUTCMilliseconds(0)}year(e=null){return null!==e?(this.value.setUTCFullYear(e),this):this.value.getUTCFullYear()}month(e=null){return null!==e?(this.value.setUTCMonth(e),this):this.value.getUTCMonth()}date(e=null){return null!==e?(this.value.setUTCDate(e),this):this.value.getUTCDate()}addDay(e=1){return this.date(this.date()+e),this}addMonth(e=1){return this.month(this.month()+e),this}addYear(e=1){return this.year(this.year()+e),this}subDay(e=1){return this.date(this.date()-e),this}subMonth(e=1){return this.month(this.month()-e),this}subYear(e=1){return this.year(this.year()-e),this}dayOfWeek(){return this.value.getUTCDay()}endOfMonth(){return this.addMonth(),this.date(0),this}startOfMonth(){return this.date(1),this}isAfter(e){return this.value>e.value}isBefore(e){return this.value<e.value}isSame(e){return this.year()===e.year()&&this.month()===e.month()&&this.date()===e.date()}isSameMonth(e){return this.year()===e.year()&&this.month()===e.month()}isSameYear(e){return this.year()===e.year()}timestamp(){return this.value.getTime()}format(e){return function(e,t="default"){"object"==typeof e&&"timestamp"in e&&(e=e.timestamp()),e=e instanceof Date?e:new Date(e),t=`${g.masks[t]||t||g.masks.default}`;let i=e.getUTCDate(),s=e.getUTCDay(),n=e.getUTCMonth(),a=e.getUTCFullYear(),r={d:i,dd:p(i),ddd:g.i18n.dayNames[s],dddd:g.i18n.dayNames[s+7],m:n+1,mm:p(n+1),mmm:g.i18n.monthNames[n],mmmm:g.i18n.monthNames[n+12],yy:String(a).slice(2),yyyy:a,S:["th","st","nd","rd"][i%10>3?0:(i%100-i%10!=10)*i%10]};return t.replace(v,e=>e in r?r[e]:e.slice(1,e.length-1))}(this.timestamp(),e)}clone(){return new _(this.timestamp())}toString(){return this.value.toString()}}const b=new _;function w(e){var t;m(this,e),this._state=i({},e.data),this._recompute({selection:1,day:1,min:1,max:1,disabled:1,mode:1,view:1,isActive:1,isDisabled:1,isRanged:1},this._state),document.getElementById("svelte-1mp2c5z-style")||((t=o("style")).id="svelte-1mp2c5z-style",t.textContent=".calio-day.svelte-1mp2c5z{cursor:pointer;color:var(--color, #333)}.calio-day.svelte-1mp2c5z:hover{color:var(--color-hover, var(--color, #333));background:var(--bg-hover, #EEE)}.calio-day.is-today.svelte-1mp2c5z{font-weight:900}.calio-day.is-prev.svelte-1mp2c5z,.calio-day.is-next.svelte-1mp2c5z{color:var(--color-inactive, #CCC);background:var(--bg-inactive, transparent)}.calio-day.is-disabled.svelte-1mp2c5z{pointer-events:none;color:var(--color-disabled, var(--color-inactive, #CCC));background:var(--bg-disabled, transparent);opacity:var(--opacity-disabled, 0.5)}.calio-day.is-ranged.svelte-1mp2c5z{color:var(--color-ranged, var(--color-active, white));background:var(--bg-ranged, var(--bg-active, rgba(100, 149, 237, 0.66)))}.calio-day.is-active.svelte-1mp2c5z{color:var(--color-active, white);background:var(--bg-active, rgb(100, 149, 237))}",n(t,document.head)),this._fragment=function(e,t){var i,s,c,d=t.day.date();function h(i){e.fire("select",t.day)}return{c(){var e,n;i=o("span"),s=l(d),e="click",n=h,i.addEventListener(e,n,!1),i.className=c="calio-day "+t.classes+" svelte-1mp2c5z"},m(e,t){a(i,e,t),n(s,i)},p(e,n){t=n,e.day&&d!==(d=t.day.date())&&(s.data=d),e.classes&&c!==(c="calio-day "+t.classes+" svelte-1mp2c5z")&&(i.className=c)},d(e){var t,s;e&&r(i),t="click",s=h,i.removeEventListener(t,s,!1)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}i(w.prototype,y),w.prototype._recompute=function(t,i){(t.selection||t.day)&&this._differs(i.isActive,i.isActive=function({selection:e,day:t}){return(e=(new Array).concat(e).filter(Boolean)).find(e=>t.isSame(e))}(i))&&(t.isActive=!0),(t.min||t.max||t.disabled||t.day)&&this._differs(i.isDisabled,i.isDisabled=function({min:e,max:t,disabled:i,day:s}){return i.find(e=>e.isSame&&e.isSame(s))||e&&s.isBefore(e)||t&&s.isAfter(t)}(i))&&(t.isDisabled=!0),(t.selection||t.mode||t.day)&&this._differs(i.isRanged,i.isRanged=function({selection:t,mode:i,day:s}){if("range"===i&&t){let i=e(t,2),n=i[0],a=i[1];if(n&&a)return s.isAfter(n)&&s.isBefore(a)}return!1}(i))&&(t.isRanged=!0),(t.view||t.day||t.isActive||t.isDisabled||t.isRanged)&&this._differs(i.classes,i.classes=function({view:e,day:t,isActive:i,isDisabled:s,isRanged:n}){return[t.isSame(b)&&"is-today",e.endOfMonth().isBefore(t)&&"is-next",e.startOfMonth().isAfter(t)&&"is-prev",s&&"is-disabled",n&&"is-ranged",i&&"is-active"].filter(Boolean).join(" ")}(i))&&(t.classes=!0)};const M=new _;var T={makeMyDay:(e=null)=>e?e instanceof _?e:Array.isArray(e)?new _(...e):new _(e):null,select(e){const t=this.get().mode;if(e=this.makeMyDay(e))switch(t){case"range":this.updateRange(e);break;case"multi":this.updateMulti(e);break;default:this.updateSingle(e)}},updateRange(t){let i,s=this.get(),n=s.selection,a=s.disabled,r=s.strict;if((i=(n=n||[]).findIndex(e=>e.isSame(t)))>-1)n.splice(i,1),this.set({selection:n});else if(n.length>1)this.set({selection:[t.clone()]});else{if(n=(n=[...n,t.clone()]).sort((e,t)=>e.timestamp()-t.timestamp()),r){let t=e(n,2),i=t[0],s=t[1];if(s&&!!a.find(e=>e.isAfter(i)&&e.isBefore(s)))return}this.set({selection:n})}},updateMulti(e){let t,i=this.get(),s=i.selection,n=i.limit;(t=(s=s||[]).findIndex(t=>t.isSame(e)))>-1?(s.splice(t,1),this.set({selection:s})):(!n||s.length<n)&&this.set({selection:[...s,e.clone()].sort((e,t)=>e.timestamp()-t.timestamp())})},updateSingle(e){this.set({selection:e.clone()})},goToYear(e){const t=this.get().view;this.set({view:t.clone().year(e)})},goToNextYear(){const e=this.get().view;this.set({view:e.clone().addYear()})},goToLastYear(){const e=this.get().view;this.set({view:e.clone().subYear()})},goToMonth(e){const t=this.get().view;this.set({view:t.clone().date(1).month(e-1)})},goToNextMonth(){const e=this.get().view;this.set({view:e.clone().date(1).addMonth()})},goToLastMonth(){const e=this.get().view;this.set({view:e.clone().date(1).subMonth()})},goToToday(){this.set({view:M.clone()})},goToSelection(){const e=this.get(),t=e.selection;"single"===e.mode&&t&&this.set({view:t.clone()})},goTo(e){(e=this.makeMyDay(e))&&this.set({view:e.clone()})}};function k({changed:e,previous:t,current:{mode:i,view:s,value:n,selection:a,disabled:r}}){if(e.view&&this.fire("view",s.clone()),t&&a&&e.selection&&("single"===i?(this.fire("select",a.clone()),a.isSameMonth(s)||(s=a.clone(),this.set({view:s}),this.fire("view",s.clone()))):this.fire("select",a.map(e=>e.clone()))),t&&e.value){const e=this.makeMyDay(n);s=e.clone(),this.set({view:s,selection:e}),this.fire("view",s.clone())}}function D(e,t){for(var i,s,m=[],f=u(),y=t.head,v=[],g=0;g<y.length;g+=1)v[g]=x(e,S(t,y,g));var p=t.dates;const _=e=>e.day.timestamp();for(g=0;g<p.length;g+=1){let i=A(t,p,g),s=_(i);m[g]=f[s]=C(e,s,i)}return{c(){i=o("div");for(var e=0;e<v.length;e+=1)v[e].c();for(s=l("\n    "),e=0;e<m.length;e+=1)m[e].c();i.className="calio svelte-ui4b82"},m(e,t){a(i,e,t);for(var r=0;r<v.length;r+=1)v[r].m(i,null);for(n(s,i),r=0;r<m.length;r+=1)m[r].m(i,null)},p(t,n){if(t.head){y=n.head;for(var a=0;a<y.length;a+=1){const r=S(n,y,a);v[a]?v[a].p(t,r):(v[a]=x(e,r),v[a].c(),v[a].m(i,s))}for(;a<v.length;a+=1)v[a].d(1);v.length=y.length}var r=n.dates;m=function(e,t,i,s,n,a,r,o,l,u,m,f,y,v){for(var g=e.length,p=r.length,_=g,b={};_--;)b[e[_].key]=_;var w=[],M={},T={};for(_=p;_--;){var k=v(a,r,_),D=s(k),x=o[D];x?n&&x.p(i,k):(x=m(t,D,k)).c(),w[_]=M[D]=x,D in b&&(T[D]=Math.abs(_-b[D]))}var C={},S={},A=u?h:d;function z(e){e[f](l,y),o[e.key]=e,y=e.first,p--}for(u&&c.groupOutros();g&&p;){var O=w[p-1],R=e[g-1],U=O.key,N=R.key;O===R?(y=O.first,g--,p--):M[N]?!o[U]||C[U]?z(O):S[N]?g--:T[U]>T[N]?(S[U]=!0,z(O)):(C[N]=!0,g--):(A(R,o),g--)}for(;g--;)M[(R=e[g]).key]||A(R,o);for(;p;)z(w[p-1]);return w}(m,e,t,_,1,n,r,f,i,!1,C,"m",null,A)},d(e){for(e&&r(i),function(e,t){for(var i=0;i<e.length;i+=1)e[i]&&e[i].d(t)}(v,e),g=0;g<m.length;g+=1)m[g].d()}}}function x(e,t){var i,s,c=t.day;return{c(){i=o("span"),s=l(c),i.className="calio-head svelte-ui4b82"},m(e,t){a(i,e,t),n(s,i)},p(e,t){e.head&&c!==(c=t.day)&&(s.data=c)},d(e){e&&r(i)}}}function C(e,t,i){var s,n={selection:i.selection,mode:i.mode,view:i.view,disabled:i.disabled,min:i.min,max:i.max,day:i.day},o=new w({root:e.root,data:n});return o.on("select",function(t){e.select(i.day)}),{key:t,first:null,c(){s=document.createComment(""),o._fragment.c(),this.first=s},m(e,t){a(s,e,t),o._mount(e,t)},p(e,t){i=t;var s={};e.selection&&(s.selection=i.selection),e.mode&&(s.mode=i.mode),e.view&&(s.view=i.view),e.disabled&&(s.disabled=i.disabled),e.min&&(s.min=i.min),e.max&&(s.max=i.max),e.dates&&(s.day=i.day),o._set(s)},d(e){e&&r(s),o.destroy(e)}}}function S(e,t,i){const s=Object.create(e);return s.day=t[i],s.each_value=t,s.day_index=i,s}function A(e,t,i){const s=Object.create(e);return s.day=t[i],s.each_value_1=t,s.day_index_1=i,s}function z(e){var t;m(this,e),this._state=i({headers:["Su","Mo","Tu","We","Th","Fr","Sa"],view:new _,mode:"single",strict:!1,disabled:[],selection:null,value:null,limit:null,min:null,max:null},e.data),this._recompute({headers:1,view:1,disabled:1},this._state),this._handlers.state=[k],document.getElementById("svelte-ui4b82-style")||((t=o("style")).id="svelte-ui4b82-style",t.textContent=".calio.svelte-ui4b82{display:-ms-inline-grid;display:inline-grid;-ms-grid-columns:(var(--size-x, var(--size, 2.25em)))[7];grid-template-columns:repeat(7, var(--size-x, var(--size, 2.25em)));grid-auto-rows:var(--size-y, var(--size, 2em));line-height:var(--size-y, var(--size, 2em));text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.calio-head.svelte-ui4b82{color:var(--color, #333);font-weight:bold}",n(t,document.head)),e.root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this._fragment=D(this,this._state),this.root._oncreate.push(()=>{k.call(this,{changed:s({},this._state),current:this._state}),function(){const e=this.get(),t=e.value,i=e.min,s=e.max,n=e.disabled;this.set({min:this.makeMyDay(i),max:this.makeMyDay(s),disabled:(new Array).concat(n).filter(Boolean).map(this.makeMyDay)}),(new Array).concat(t).forEach(e=>this.select(e))}.call(this),this.fire("update",{changed:s({},this._state),current:this._state})}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),this._lock=!0,f(this._beforecreate),f(this._oncreate),f(this._aftercreate),this._lock=!1)}i(z.prototype,y),i(z.prototype,T),z.prototype._recompute=function(e,t){e.headers&&this._differs(t.head,t.head=function({headers:e}){return e.length?new Array(7).fill("",0,7).map((t,i)=>e[i]||t):[]}(t))&&(e.head=!0),(e.view||e.disabled)&&this._differs(t.dates,t.dates=function({view:e,disabled:t}){let i,s,n=e.clone().startOfMonth(),a=[];if(!Array.isArray(t))return[];i=n.dayOfWeek();for(let e=0;e<i;e++)a.unshift(n.clone().date(-e));n.endOfMonth();for(let e=1,t=n.date();e<=t;e++)a.push(n.clone().date(e));s=n.dayOfWeek(),n.startOfMonth().addMonth();for(let e=1;e<7-s;e++)a.push(n.clone().date(e));return a}(t))&&(e.dates=!0)};return class{constructor(e,t){return new z({target:"string"==typeof e?document.querySelector(e):e,data:t})}}}();
//# sourceMappingURL=calio.min.js.map
