var Calio=function(){"use strict";function e(){}function t(e,t){for(const n in t)e[n]=t[n];return e}function n(e){return e()}function a(){return Object.create(null)}function i(e){e.forEach(n)}function o(e){return"function"==typeof e}function r(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function s(e,t){e.appendChild(t)}function l(e,t,n){e.insertBefore(t,n)}function c(e){e.parentNode.removeChild(e)}function d(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function u(e){return document.createElement(e)}function m(e){return document.createTextNode(e)}function h(e,t){t=""+t,e.data!==t&&(e.data=t)}let f;function y(e){f=e}function v(){const e=f;return(t,n)=>{const a=e.$$.callbacks[t];if(a){const i=function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(t,n);a.slice().forEach(t=>{t.call(e,i)})}}}const g=[];let p;const b=[],$=[],x=[];function T(e){$.push(e)}function w(){const e=new Set;do{for(;g.length;){const e=g.shift();y(e),M(e.$$)}for(;b.length;)b.shift()();for(;$.length;){const t=$.pop();e.has(t)||(t(),e.add(t))}}while(g.length);for(;x.length;)x.pop()();p=null}function M(e){e.fragment&&(e.update(e.dirty),i(e.before_render),e.fragment.p(e.dirty,e.ctx),e.dirty=null,e.after_render.forEach(T))}let S;function C(e,t,a){const{fragment:r,on_mount:s,on_destroy:l,after_render:c}=e.$$;r.m(t,a),T(()=>{const t=s.map(n).filter(o);l?l.push(...t):i(t),e.$$.on_mount=[]}),c.forEach(T)}function k(e,t){e.$$.dirty||(g.push(e),p||(p=Promise.resolve()).then(w),e.$$.dirty={}),e.$$.dirty[t]=!0}function D(t,n,o,r,s,l){const c=f;y(t);const d=n.props||{},u=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:s,bound:a(),on_mount:[],on_destroy:[],before_render:[],after_render:[],context:new Map(c?c.$$.context:[]),callbacks:a(),dirty:null};let m=!1;var h;u.ctx=o?o(t,d,(e,n)=>{u.ctx&&s(u.ctx[e],u.ctx[e]=n)&&(u.bound[e]&&u.bound[e](n),m&&k(t,e))}):d,u.update(),m=!0,i(u.before_render),u.fragment=r(u.ctx),n.target&&(n.hydrate?u.fragment.l((h=n.target,Array.from(h.childNodes))):u.fragment.c(),n.intro&&t.$$.fragment.i&&t.$$.fragment.i(),C(t,n.target,n.anchor),w()),y(c)}class N{$destroy(){var t,n;n=!0,(t=this).$$&&(i(t.$$.on_destroy),t.$$.fragment.d(n),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={}),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}function O(e,t,n,a){e(n,a),t&&t.parentNode.dispatchEvent(new CustomEvent(`calio:${n}`,{detail:a}))}const _=/d{1,4}|m{1,4}|yy(?:yy)?|([HhsTt])\1?|[LloS]|"[^"]*"|'[^']*'/g,A={masks:{default:"ddd mmm dd yyyy 00:00:00",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",isoDate:"yyyy-mm-dd",isoDateTime:"yyyy-mm-dd'T'00:00:00",isoUtcDateTime:"yyyy-mm-dd'T'00:00:00'Z'"},i18n:{dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]}};function z(e,t=2){for(e=`${e}`;e.length<t;)e=`0${e}`;return e}class Y{constructor(...e){const[t,n,a]=e;e.length>1?this.value=new Date(t,n,a||1):t instanceof Y?this.value=t.clone().value:t instanceof Date?this.value=t:["number","string"].includes(typeof t)?this.value=new Date(t):this.value=new Date,this.value.setUTCHours(0),this.value.setUTCMinutes(0),this.value.setUTCSeconds(0),this.value.setUTCMilliseconds(0)}year(e=null){return null!==e?(this.value.setUTCFullYear(e),this):this.value.getUTCFullYear()}month(e=null){return null!==e?(this.value.setUTCMonth(e),this):this.value.getUTCMonth()}date(e=null){return null!==e?(this.value.setUTCDate(e),this):this.value.getUTCDate()}addDay(e=1){return this.date(this.date()+e),this}addMonth(e=1){return this.month(this.month()+e),this}addYear(e=1){return this.year(this.year()+e),this}subDay(e=1){return this.date(this.date()-e),this}subMonth(e=1){return this.month(this.month()-e),this}subYear(e=1){return this.year(this.year()-e),this}dayOfWeek(){return this.value.getUTCDay()}endOfMonth(){return this.addMonth(),this.date(0),this}startOfMonth(){return this.date(1),this}isAfter(e){return this.value>e.value}isBefore(e){return this.value<e.value}isSame(e){return this.year()===e.year()&&this.month()===e.month()&&this.date()===e.date()}isSameMonth(e){return this.year()===e.year()&&this.month()===e.month()}isSameYear(e){return this.year()===e.year()}timestamp(){return this.value.getTime()}format(e){return function(e,t="default"){"object"==typeof e&&"timestamp"in e&&(e=e.timestamp()),e=e instanceof Date?e:new Date(e),t=`${A.masks[t]||t||A.masks.default}`;let n=e.getUTCDate(),a=e.getUTCDay(),i=e.getUTCMonth(),o=e.getUTCFullYear(),r={d:n,dd:z(n),ddd:A.i18n.dayNames[a],dddd:A.i18n.dayNames[a+7],m:i+1,mm:z(i+1),mmm:A.i18n.monthNames[i],mmmm:A.i18n.monthNames[i+12],yy:String(o).slice(2),yyyy:o,S:["th","st","nd","rd"][n%10>3?0:(n%100-n%10!=10)*n%10]};return t.replace(_,e=>e in r?r[e]:e.slice(1,e.length-1))}(this.timestamp(),e)}clone(){return new Y(this.timestamp())}toString(){return this.value.toString()}}function E(t){var n,a,i,o,r=t.day.date();return{c(){var e,s,l,c;n=u("span"),a=m(r),n.className=i="calio-day "+t.classes+" svelte-1mp2c5z",e=n,s="click",l=t.click_handler,e.addEventListener(s,l,c),o=(()=>e.removeEventListener(s,l,c))},m(e,t){l(e,n,t),s(n,a)},p(e,t){e.day&&r!==(r=t.day.date())&&h(a,r),e.classes&&i!==(i="calio-day "+t.classes+" svelte-1mp2c5z")&&(n.className=i)},i:e,o:e,d(e){e&&c(n),o()}}}function U(e,t,n){const a=new Y,i=v();let o,r,s,l,c,{view:d=new Y,selection:u=[],disabled:m=[],day:h,min:f,max:y,mode:g}=t;return e.$set=(e=>{"view"in e&&n("view",d=e.view),"selection"in e&&n("selection",u=e.selection),"disabled"in e&&n("disabled",m=e.disabled),"day"in e&&n("day",h=e.day),"min"in e&&n("min",f=e.min),"max"in e&&n("max",y=e.max),"mode"in e&&n("mode",g=e.mode)}),e.$$.update=((e={selection:1,day:1,disabled:1,min:1,max:1,mode:1,view:1,isDisabled:1,isRanged:1,isActive:1,classes:1})=>{(e.selection||e.day)&&n("isActive",r=(()=>(n("selection",u=(new Array).concat(u).filter(Boolean)),u.find(e=>h.isSame(e))))()),(e.disabled||e.day||e.min||e.max)&&n("isDisabled",s=(()=>m.find(e=>e.isSame&&e.isSame(h))||f&&h.isBefore(f)||y&&h.isAfter(y))()),(e.mode||e.selection||e.day)&&n("isRanged",l=(()=>{if("range"===g&&u){let[e,t]=u;if(e&&t)return h.isAfter(e)&&h.isBefore(t)}return!1})()),(e.day||e.view||e.isDisabled||e.isRanged||e.isActive)&&n("classes",c=[h.isSame(a)&&"is-today",d&&d.endOfMonth().isBefore(h)&&"is-next",d&&d.startOfMonth().isAfter(h)&&"is-prev",s&&"is-disabled",l&&"is-ranged",r&&"is-active"].filter(Boolean).join(" ")),(e.min||e.max||e.disabled||e.view||e.mode||e.selection||e.classes)&&n("data",o={min:f,max:y,disabled:m,view:d,mode:g,selection:u,classes:c})}),{dispatch:i,view:d,selection:u,disabled:m,day:h,min:f,max:y,mode:g,state:function(){return o},classes:c,click_handler:function(e){return i("select",h)}}}class B extends N{constructor(e){var t;super(),document.getElementById("svelte-1mp2c5z-style")||((t=u("style")).id="svelte-1mp2c5z-style",t.textContent=".calio-day.svelte-1mp2c5z{cursor:pointer;color:var(--color, #333)}.calio-day.svelte-1mp2c5z:hover{color:var(--color-hover, var(--color, #333));background:var(--bg-hover, #EEE)}.calio-day.is-today.svelte-1mp2c5z{font-weight:900}.calio-day.is-prev.svelte-1mp2c5z,.calio-day.is-next.svelte-1mp2c5z{color:var(--color-inactive, #CCC);background:var(--bg-inactive, transparent)}.calio-day.is-disabled.svelte-1mp2c5z{pointer-events:none;color:var(--color-disabled, var(--color-inactive, #CCC));background:var(--bg-disabled, transparent);opacity:var(--opacity-disabled, 0.5)}.calio-day.is-ranged.svelte-1mp2c5z{color:var(--color-ranged, var(--color-active, white));background:var(--bg-ranged, var(--bg-active, rgba(100, 149, 237, 0.66)))}.calio-day.is-active.svelte-1mp2c5z{color:var(--color-active, white);background:var(--bg-active, rgb(100, 149, 237))}",s(document.head,t)),D(this,e,U,E,r,["view","selection","disabled","day","min","max","mode","state"])}get state(){return this.$$.ctx.state}}function L(e,t,n){const a=Object.create(e);return a.day=t[n],a}function q(e,t,n){const a=Object.create(e);return a.day=t[n],a}function F(e){var t,n,a=e.day;return{c(){t=u("span"),n=m(a),t.className="calio-head svelte-4rx1aq"},m(e,a){l(e,t,a),s(t,n)},p(e,t){e.head&&a!==(a=t.day)&&h(n,a)},d(e){e&&c(t)}}}function j(e){var n,a=[{day:e.day},e.data];let i={};for(var o=0;o<a.length;o+=1)i=t(i,a[o]);var r=new B({props:i});return r.$on("select",function(...t){return e.select_handler(e,...t)}),{c(){r.$$.fragment.c()},m(e,t){C(r,e,t),n=!0},p(t,n){e=n;var i=t.dates||t.data?function(e,t){const n={},a={},i={};let o=e.length;for(;o--;){const r=e[o],s=t[o];if(s){for(const e in r)e in s||(a[e]=1);for(const e in s)i[e]||(n[e]=s[e],i[e]=1);e[o]=s}else for(const e in r)i[e]=1}for(const e in a)e in n||(n[e]=void 0);return n}(a,[t.dates&&{day:e.day},t.data&&e.data]):{};r.$set(i)},i(e){n||(r.$$.fragment.i(e),n=!0)},o(e){r.$$.fragment.o(e),n=!1},d(e){r.$destroy(e)}}}function J(e){for(var t,n,a,o=e.head,r=[],h=0;h<o.length;h+=1)r[h]=F(q(e,o,h));var f=e.dates,y=[];for(h=0;h<f.length;h+=1)y[h]=j(L(e,f,h));function v(e,t,n){var a;y[e]&&(t&&(a=(()=>{y[e].d(t),y[e]=null}),S.callbacks.push(a)),y[e].o(n))}return{c(){t=u("div");for(var e=0;e<r.length;e+=1)r[e].c();n=m(" ");for(e=0;e<y.length;e+=1)y[e].c();t.className="calio svelte-4rx1aq"},m(i,o){l(i,t,o);for(var c=0;c<r.length;c+=1)r[c].m(t,null);s(t,n);for(c=0;c<y.length;c+=1)y[c].m(t,null);var d;d=(()=>e.div_binding(t,null)),b.push(d),a=!0},p(e,a){if(e.head){o=a.head;for(var s=0;s<o.length;s+=1){const i=q(a,o,s);r[s]?r[s].p(e,i):(r[s]=F(i),r[s].c(),r[s].m(t,n))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}if(e.dates||e.data){f=a.dates;for(s=0;s<f.length;s+=1){const n=L(a,f,s);y[s]?(y[s].p(e,n),y[s].i(1)):(y[s]=j(n),y[s].c(),y[s].i(1),y[s].m(t,null))}for(S={remaining:0,callbacks:[]};s<y.length;s+=1)v(s,1,1);S.remaining||i(S.callbacks)}e.items&&(a.div_binding(null,t),a.div_binding(t,null))},i(e){if(!a){for(var t=0;t<f.length;t+=1)y[t].i();a=!0}},o(e){y=y.filter(Boolean);for(let e=0;e<y.length;e+=1)v(e,0);a=!1},d(n){n&&c(t),d(r,n),d(y,n),e.div_binding(null,t)}}}function W(e=null){return e?e instanceof Y?e:Array.isArray(e)?new Y(...e):new Y(e):null}function I(e,t,n){const a=new Y,i=v();let o,r,s,l,c,d=null,u=new Y,{headers:m=["Su","Mo","Tu","We","Th","Fr","Sa"],mode:h="single",strict:f=!1,disabled:y=[],value:g=null,limit:p=null,min:b=null,max:$=null}=t;function x(e){if(e=W(e)){if(s.disabled.find(t=>t.isSame(e))||s.min&&e.isBefore(s.min)||s.max&&e.isAfter(s.max))return;switch(h){case"range":[d]=function(e,t,n,a){let i=t||[],o=i.findIndex(t=>t.isSame(e));if(o>-1)return i.splice(o,1),[i];if(i.length>1)return[[e.clone()]];if(i=(i=[...i,e.clone()]).sort((e,t)=>e.timestamp()-t.timestamp()),n){let[e,t]=i;if(t&&a.find(n=>n.isAfter(e)&&n.isBefore(t)))return}return[i]}(e,d,f,s.disabled),n("selection",d);break;case"multi":[d]=function(e,t,n){let a=t||[],i=a.findIndex(t=>t.isSame(e));return i>-1?(a.splice(i,1),[a]):!n||a.length<n?[...a,e.clone()].sort((e,t)=>e.timestamp()-t.timestamp()):void 0}(e,d,p),n("selection",d);break;default:[d,u]=function(e,t){return[e.clone(),t.isSameMonth(e)?t:e.clone().startOfMonth()]}(e,u),n("selection",d),n("view",u)}}}return(new Array).concat(g).forEach(e=>x(e)),e.$set=(e=>{"headers"in e&&n("headers",m=e.headers),"mode"in e&&n("mode",h=e.mode),"strict"in e&&n("strict",f=e.strict),"disabled"in e&&n("disabled",y=e.disabled),"value"in e&&n("value",g=e.value),"limit"in e&&n("limit",p=e.limit),"min"in e&&n("min",b=e.min),"max"in e&&n("max",$=e.max)}),e.$$.update=((e={min:1,max:1,disabled:1,computed:1,headers:1,view:1,mode:1,strict:1,selection:1,limit:1,el:1,data:1})=>{(e.min||e.max||e.disabled)&&n("computed",s={min:W(b),max:W($),disabled:(new Array).concat(y).filter(Boolean).map(W)}),(e.computed||e.headers||e.view||e.mode||e.strict||e.selection||e.limit||e.el)&&n("data",r={min:s.min,max:s.max,disabled:s.disabled,headers:m,view:u,mode:h,strict:f,selection:d,limit:p,el:o}),(e.view||e.computed)&&n("dates",l=function(e,t){let n,a,i=e.clone().startOfMonth(),o=[];if(!Array.isArray(t))return[];n=i.dayOfWeek();for(let e=0;e<n;e++)o.unshift(i.clone().date(-e));i.endOfMonth();for(let e=1,t=i.date();e<=t;e++)o.push(i.clone().date(e));a=i.dayOfWeek(),i.startOfMonth().addMonth();for(let e=1;e<7-a;e++)o.push(i.clone().date(e));return o}(u,s.disabled)),e.headers&&n("head",c=m.length?new Array(7).fill("",0,7).map((e,t)=>m[t]||e):[]),(e.el||e.selection)&&O(i,o,"selection",d),(e.el||e.view)&&O(i,o,"view",u),(e.el||e.computed)&&O(i,o,"min",s.min),(e.el||e.computed)&&O(i,o,"max",s.max),(e.el||e.data)&&O(i,o,"update",r)}),{el:o,data:r,headers:m,mode:h,strict:f,disabled:y,value:g,limit:p,min:b,max:$,state:function(){return r},select:x,goToYear:function(e){n("view",u=u.clone().year(e))},goToNextYear:function(){n("view",u=u.clone().addYear())},goToLastYear:function(){n("view",u=u.clone().subYear())},goToMonth:function(e){n("view",u=u.clone().startOfMonth().month(e-1))},goToNextMonth:function(){n("view",u=u.clone().startOfMonth().addMonth())},goToLastMonth:function(){n("view",u=u.clone().startOfMonth().subMonth())},goToThisMonth:function(){n("view",u=a.clone().startOfMonth())},goToSelection:function(){"single"===h&&d&&n("view",u=d.clone().startOfMonth())},goTo:function(e){(e=W(e))&&n("view",u=e.clone().startOfMonth())},dates:l,head:c,select_handler:function({day:e},t){return x(e)},div_binding:function(e,t){n("el",o=e)}}}class R extends N{constructor(e){var t;super(),document.getElementById("svelte-4rx1aq-style")||((t=u("style")).id="svelte-4rx1aq-style",t.textContent=".calio.svelte-4rx1aq{display:-ms-inline-grid;display:inline-grid;-ms-grid-columns:(var(--size-x, var(--size, 2.25em)))[7];grid-template-columns:repeat(7, var(--size-x, var(--size, 2.25em)));grid-auto-rows:var(--size-y, var(--size, 2em));line-height:var(--size-y, var(--size, 2em));text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.calio-head.svelte-4rx1aq{color:var(--color, #333);font-weight:bold}",s(document.head,t)),D(this,e,I,J,r,["headers","mode","strict","disabled","value","limit","min","max","state","select","makeMyDay","goToYear","goToNextYear","goToLastYear","goToMonth","goToNextMonth","goToLastMonth","goToThisMonth","goToSelection","goTo"])}get state(){return this.$$.ctx.state}get select(){return this.$$.ctx.select}get makeMyDay(){return W}get goToYear(){return this.$$.ctx.goToYear}get goToNextYear(){return this.$$.ctx.goToNextYear}get goToLastYear(){return this.$$.ctx.goToLastYear}get goToMonth(){return this.$$.ctx.goToMonth}get goToNextMonth(){return this.$$.ctx.goToNextMonth}get goToLastMonth(){return this.$$.ctx.goToLastMonth}get goToThisMonth(){return this.$$.ctx.goToThisMonth}get goToSelection(){return this.$$.ctx.goToSelection}get goTo(){return this.$$.ctx.goTo}}return class{constructor(e,t={}){const n=["headers","mode","disabled","strict","value","limit","min","max"],a="string"==typeof e?document.querySelector(e):e;return new R({target:a,props:Object.keys(t).filter(e=>n.includes(e)).reduce((e,n)=>(e[n]=t[n],e),{})})}}}();
