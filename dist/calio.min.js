var Calio=function(){"use strict";function e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var s=[],i=!0,n=!1,a=void 0;try{for(var r,o=e[Symbol.iterator]();!(i=(r=o.next()).done)&&(s.push(r.value),!t||s.length!==t);i=!0);}catch(e){n=!0,a=e}finally{try{i||null==o.return||o.return()}finally{if(n)throw a}}return s}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function t(){}function s(e,t){for(var s in t)e[s]=t[s];return e}function i(e,t){for(var s in t)e[s]=1;return e}function n(e,t){t.appendChild(e)}function a(e,t,s){t.insertBefore(e,s)}function r(e){e.parentNode.removeChild(e)}function o(e){return document.createElement(e)}function l(e){return document.createTextNode(e)}var c={running:!1,transitions:[],bound:null,stylesheet:null,activeRules:{},add(e){this.transitions.push(e),this.running||(this.running=!0,requestAnimationFrame(this.bound||(this.bound=this.next.bind(this))))},addRule(e,t){if(!this.stylesheet){const e=o("style");document.head.appendChild(e),c.stylesheet=e.sheet}this.activeRules[t]||(this.activeRules[t]=!0,this.stylesheet.insertRule(`@keyframes ${t} ${e}`,this.stylesheet.cssRules.length))},next(){this.running=!1;const e=window.performance.now();let t=this.transitions.length;for(;t--;){const s=this.transitions[t];s.program&&e>=s.program.end&&s.done(),s.pending&&e>=s.pending.start&&s.start(s.pending),s.running?(s.update(e),this.running=!0):s.pending||this.transitions.splice(t,1)}if(this.running)requestAnimationFrame(this.bound);else if(this.stylesheet){let e=this.stylesheet.cssRules.length;for(;e--;)this.stylesheet.deleteRule(e);this.activeRules={}}},deleteRule(e,t){e.style.animation=e.style.animation.split(", ").filter(e=>e&&-1===e.indexOf(t)).join(", ")},groupOutros(){this.outros={remaining:0,callbacks:[]}}};function h(e,t){e.d(1),t[e.key]=null}function d(e,t){e.o(function(){h(e,t)})}function u(){return Object.create(null)}function m(e,t){e._handlers=u(),e._bind=t._bind,e.options=t,e.root=t.root||e,e.store=e.root.store||t.store}function f(e){for(;e&&e.length;)e.shift()()}var y={destroy:function(e){this.destroy=t,this.fire("destroy"),this.set=t,this._fragment.d(!1!==e),this._fragment=null,this._state={}},get:function(){return this._state},fire:function(e,t){var s=e in this._handlers&&this._handlers[e].slice();if(s)for(var i=0;i<s.length;i+=1){var n=s[i];n.__calling||(n.__calling=!0,n.call(this,t),n.__calling=!1)}},on:function(e,t){var s=this._handlers[e]||(this._handlers[e]=[]);return s.push(t),{cancel:function(){var e=s.indexOf(t);~e&&s.splice(e,1)}}},set:function(e){this._set(s({},e)),this.root._lock||(this.root._lock=!0,f(this.root._beforecreate),f(this.root._oncreate),f(this.root._aftercreate),this.root._lock=!1)},_recompute:t,_set:function(e){var t=this._state,i={},n=!1;for(var a in e)this._differs(e[a],t[a])&&(i[a]=n=!0);n&&(this._state=s(s({},t),e),this._recompute(i,this._state),this._bind&&this._bind(i,this._state),this._fragment&&(this.fire("state",{changed:i,current:this._state,previous:t}),this._fragment.p(i,this._state),this.fire("update",{changed:i,current:this._state,previous:t})))},_mount:function(e,t){this._fragment[this._fragment.i?"i":"m"](e,t||null)},_differs:function(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}};const v=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,g={masks:{default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},i18n:{dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]}};function p(e,t=2){for(e=`${e}`;e.length<t;)e=`0${e}`;return e}class _{constructor(...e){const t=e[0],s=e[1],i=e[2];e.length>1?this.value=new Date(t,s,i):t?t instanceof _?this.value=t.clone().value:t instanceof Date?this.value=t:["number","string"].includes(typeof t)&&(this.value=new Date(t)):this.value=new Date,this.value.setUTCHours(0),this.value.setUTCMinutes(0),this.value.setUTCSeconds(0),this.value.setUTCMilliseconds(0)}year(e=null){return null!==e?(this.value.setUTCFullYear(e),this):this.value.getUTCFullYear()}month(e=null){return null!==e?(this.value.setUTCMonth(e),this):this.value.getUTCMonth()}date(e=null){return null!==e?(this.value.setUTCDate(e),this):this.value.getUTCDate()}addDay(e=1){return this.date(this.date()+e),this}addMonth(e=1){return this.month(this.month()+e),this}addYear(e=1){return this.year(this.year()+e),this}subDay(e=1){return this.date(this.date()-e),this}subMonth(e=1){return this.month(this.month()-e),this}subYear(e=1){return this.year(this.year()-e),this}dayOfWeek(){return this.value.getUTCDay()}endOfMonth(){return this.addMonth(),this.date(0),this}startOfMonth(){return this.date(1),this}isAfter(e){return this.value>e.value}isBefore(e){return this.value<e.value}isSame(e){return this.year()===e.year()&&this.month()===e.month()&&this.date()===e.date()}isSameMonth(e){return this.year()===e.year()&&this.month()===e.month()}isSameYear(e){return this.year()===e.year()}timestamp(){return this.value.getTime()}format(e){return function(e,t="default"){"object"==typeof e&&"timestamp"in e&&(e=e.timestamp()),e=e instanceof Date?e:new Date(e),t=`${g.masks[t]||t||g.masks.default}`;let s=e.getUTCDate(),i=e.getUTCDay(),n=e.getUTCMonth(),a=e.getUTCFullYear(),r={d:s,dd:p(s),ddd:g.i18n.dayNames[i],dddd:g.i18n.dayNames[i+7],m:n+1,mm:p(n+1),mmm:g.i18n.monthNames[n],mmmm:g.i18n.monthNames[n+12],yy:String(a).slice(2),yyyy:a,S:["th","st","nd","rd"][s%10>3?0:(s%100-s%10!=10)*s%10]};return t.replace(v,e=>e in r?r[e]:e.slice(1,e.length-1))}(this.timestamp(),e)}clone(){return new _(this.timestamp())}toString(){return this.value.toString()}}const w=new _;function b(e){var t;m(this,e),this._state=s({},e.data),this._recompute({selection:1,day:1,min:1,max:1,mode:1,view:1,isActive:1,isDisabled:1,isRanged:1},this._state),document.getElementById("svelte-1mp2c5z-style")||((t=o("style")).id="svelte-1mp2c5z-style",t.textContent=".calio-day.svelte-1mp2c5z{cursor:pointer;color:var(--color, #333)}.calio-day.svelte-1mp2c5z:hover{color:var(--color-hover, var(--color, #333));background:var(--bg-hover, #EEE)}.calio-day.is-today.svelte-1mp2c5z{font-weight:900}.calio-day.is-prev.svelte-1mp2c5z,.calio-day.is-next.svelte-1mp2c5z{color:var(--color-inactive, #CCC);background:var(--bg-inactive, transparent)}.calio-day.is-disabled.svelte-1mp2c5z{pointer-events:none;color:var(--color-disabled, var(--color-inactive, #CCC));background:var(--bg-disabled, transparent);opacity:var(--opacity-disabled, 0.5)}.calio-day.is-ranged.svelte-1mp2c5z{color:var(--color-ranged, var(--color-active, white));background:var(--bg-ranged, var(--bg-active, rgba(100, 149, 237, 0.66)))}.calio-day.is-active.svelte-1mp2c5z{color:var(--color-active, white);background:var(--bg-active, rgb(100, 149, 237))}",n(t,document.head)),this._fragment=function(e,t){var s,i,c,h=t.day.date();function d(s){e.fire("select",t.day)}return{c(){var e,n;s=o("span"),i=l(h),e="click",n=d,s.addEventListener(e,n,!1),s.className=c="calio-day "+t.classes+" svelte-1mp2c5z"},m(e,t){a(s,e,t),n(i,s)},p(e,n){t=n,e.day&&h!==(h=t.day.date())&&(i.data=h),e.classes&&c!==(c="calio-day "+t.classes+" svelte-1mp2c5z")&&(s.className=c)},d(e){var t,i;e&&r(s),t="click",i=d,s.removeEventListener(t,i,!1)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}s(b.prototype,y),b.prototype._recompute=function(t,s){(t.selection||t.day)&&this._differs(s.isActive,s.isActive=function({selection:e,day:t}){return(e=(new Array).concat(e).filter(Boolean)).find(e=>t.isSame(e))}(s))&&(t.isActive=!0),(t.min||t.max||t.day)&&this._differs(s.isDisabled,s.isDisabled=function({min:e,max:t,day:s}){return e&&s.isBefore(e)||t&&s.isAfter(t)}(s))&&(t.isDisabled=!0),(t.selection||t.mode||t.day)&&this._differs(s.isRanged,s.isRanged=function({selection:t,mode:s,day:i}){if("range"===s&&t){let s=e(t,2),n=s[0],a=s[1];if(n&&a)return i.isAfter(n)&&i.isBefore(a)}return!1}(s))&&(t.isRanged=!0),(t.view||t.day||t.isActive||t.isDisabled||t.isRanged)&&this._differs(s.classes,s.classes=function({view:e,day:t,isActive:s,isDisabled:i,isRanged:n}){return[t.isSame(w)&&"is-today",e.endOfMonth().isBefore(t)&&"is-next",e.startOfMonth().isAfter(t)&&"is-prev",i&&"is-disabled",n&&"is-ranged",s&&"is-active"].filter(Boolean).join(" ")}(s))&&(t.classes=!0)};const M=new _;var T={makeMyDay:(e=null)=>e?e instanceof _?e:Array.isArray(e)?new _(...e):new _(e):null,select(e){const t=this.get().mode;if(e=this.makeMyDay(e))switch(t){case"range":this.updateRange(e);break;case"multi":this.updateMulti(e);break;default:this.updateSingle(e)}},updateRange(e){let t=this.get().selection;(t=t||[]).length>1?this.set({selection:[e.clone()]}):(t.push(e.clone()),this.set({selection:t.sort((e,t)=>e.timestamp()-t.timestamp())}))},updateMulti(e){let t,s=this.get(),i=s.selection,n=s.limit;(t=(i=i||[]).findIndex(t=>t.isSame(e)))>-1?(i.splice(t,1),this.set({selection:i})):(!n||i.length<n)&&this.set({selection:[...i,e.clone()].sort((e,t)=>e.timestamp()-t.timestamp())})},updateSingle(e){this.set({selection:e.clone()})},goToYear(e){const t=this.get().view;this.set({view:t.clone().year(e)})},goToNextYear(){const e=this.get().view;this.set({view:e.clone().addYear()})},goToLastYear(){const e=this.get().view;this.set({view:e.clone().subYear()})},goToMonth(e){const t=this.get().view;this.set({view:t.clone().date(1).month(e-1)})},goToNextMonth(){const e=this.get().view;this.set({view:e.clone().date(1).addMonth()})},goToLastMonth(){const e=this.get().view;this.set({view:e.clone().date(1).subMonth()})},goToToday(){this.set({view:M.clone()})},goToSelection(){const e=this.get(),t=e.selection;"single"===e.mode&&t&&this.set({view:t.clone()})},goTo(e){(e=this.makeMyDay(e))&&this.set({view:e.clone()})}};function k({changed:e,previous:t,current:{mode:s,view:i,value:n,selection:a}}){if(e.view&&this.fire("view",i.clone()),t&&a&&e.selection&&("single"===s?(this.fire("select",a.clone()),a.isSameMonth(i)||(i=a.clone(),this.set({view:i}),this.fire("view",i.clone()))):this.fire("select",a.map(e=>e.clone()))),t&&e.value){const e=this.makeMyDay(n);i=e.clone(),this.set({view:i,selection:e}),this.fire("view",i.clone())}}function D(e,t){for(var s,i,m=[],f=u(),y=t.head,v=[],g=0;g<y.length;g+=1)v[g]=x(e,S(t,y,g));var p=t.dates;const _=e=>e.day.timestamp();for(g=0;g<p.length;g+=1){let s=A(t,p,g),i=_(s);m[g]=f[i]=C(e,i,s)}return{c(){s=o("div");for(var e=0;e<v.length;e+=1)v[e].c();for(i=l("\n    "),e=0;e<m.length;e+=1)m[e].c();s.className="calio svelte-l5s8cw"},m(e,t){a(s,e,t);for(var r=0;r<v.length;r+=1)v[r].m(s,null);for(n(i,s),r=0;r<m.length;r+=1)m[r].m(s,null)},p(t,n){if(t.head){y=n.head;for(var a=0;a<y.length;a+=1){const r=S(n,y,a);v[a]?v[a].p(t,r):(v[a]=x(e,r),v[a].c(),v[a].m(s,i))}for(;a<v.length;a+=1)v[a].d(1);v.length=y.length}var r=n.dates;m=function(e,t,s,i,n,a,r,o,l,u,m,f,y,v){for(var g=e.length,p=r.length,_=g,w={};_--;)w[e[_].key]=_;var b=[],M={},T={};for(_=p;_--;){var k=v(a,r,_),D=i(k),x=o[D];x?n&&x.p(s,k):(x=m(t,D,k)).c(),b[_]=M[D]=x,D in w&&(T[D]=Math.abs(_-w[D]))}var C={},S={},A=u?d:h;function O(e){e[f](l,y),o[e.key]=e,y=e.first,p--}for(u&&c.groupOutros();g&&p;){var R=b[p-1],z=e[g-1],U=R.key,N=z.key;R===z?(y=R.first,g--,p--):M[N]?!o[U]||C[U]?O(R):S[N]?g--:T[U]>T[N]?(S[U]=!0,O(R)):(C[N]=!0,g--):(A(z,o),g--)}for(;g--;)M[(z=e[g]).key]||A(z,o);for(;p;)O(b[p-1]);return b}(m,e,t,_,1,n,r,f,s,!1,C,"m",null,A)},d(e){for(e&&r(s),function(e,t){for(var s=0;s<e.length;s+=1)e[s]&&e[s].d(t)}(v,e),g=0;g<m.length;g+=1)m[g].d()}}}function x(e,t){var s,i,c=t.day;return{c(){s=o("span"),i=l(c),s.className="calio-head svelte-l5s8cw"},m(e,t){a(s,e,t),n(i,s)},p(e,t){e.head&&c!==(c=t.day)&&(i.data=c)},d(e){e&&r(s)}}}function C(e,t,s){var i,n={selection:s.selection,mode:s.mode,view:s.view,min:s.min,max:s.max,day:s.day},o=new b({root:e.root,data:n});return o.on("select",function(t){e.select(s.day)}),{key:t,first:null,c(){i=document.createComment(""),o._fragment.c(),this.first=i},m(e,t){a(i,e,t),o._mount(e,t)},p(e,t){s=t;var i={};e.selection&&(i.selection=s.selection),e.mode&&(i.mode=s.mode),e.view&&(i.view=s.view),e.min&&(i.min=s.min),e.max&&(i.max=s.max),e.dates&&(i.day=s.day),o._set(i)},d(e){e&&r(i),o.destroy(e)}}}function S(e,t,s){const i=Object.create(e);return i.day=t[s],i.each_value=t,i.day_index=s,i}function A(e,t,s){const i=Object.create(e);return i.day=t[s],i.each_value_1=t,i.day_index_1=s,i}function O(e){var t;m(this,e),this._state=s({headers:["Su","Mo","Tu","We","Th","Fr","Sa"],view:new _,mode:"single",selection:null,value:null,limit:null,min:null,max:null},e.data),this._recompute({headers:1,view:1},this._state),this._handlers.state=[k],document.getElementById("svelte-l5s8cw-style")||((t=o("style")).id="svelte-l5s8cw-style",t.textContent=".calio.svelte-l5s8cw{display:-ms-inline-grid;display:inline-grid;-ms-grid-columns:(var(--x, var(--size, 2.25em)))[7];grid-template-columns:repeat(7, var(--x, var(--size, 2.25em)));grid-auto-rows:var(--y, var(--size, 2em));line-height:var(--y, var(--size, 2em));text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.calio-head.svelte-l5s8cw{color:var(--color, #333);font-weight:bold}",n(t,document.head)),e.root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this._fragment=D(this,this._state),this.root._oncreate.push(()=>{k.call(this,{changed:i({},this._state),current:this._state}),function(){const e=this.get(),t=e.value,s=e.min,i=e.max;(new Array).concat(t).forEach(e=>{this.select(e||null)}),this.set({min:this.makeMyDay(s),max:this.makeMyDay(i)})}.call(this),this.fire("update",{changed:i({},this._state),current:this._state})}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),this._lock=!0,f(this._beforecreate),f(this._oncreate),f(this._aftercreate),this._lock=!1)}s(O.prototype,y),s(O.prototype,T),O.prototype._recompute=function(e,t){e.headers&&this._differs(t.head,t.head=function({headers:e}){return e.length?new Array(7).fill("",0,7).map((t,s)=>e[s]||t):[]}(t))&&(e.head=!0),e.view&&this._differs(t.dates,t.dates=function({view:e}){let t,s,i=e.clone().startOfMonth(),n=[];t=i.dayOfWeek();for(let e=0;e<t;e++)n.unshift(i.clone().date(-e));i.endOfMonth();for(let e=1,t=i.date();e<=t;e++)n.push(i.clone().date(e));s=i.dayOfWeek(),i.startOfMonth().addMonth();for(let e=1;e<7-s;e++)n.push(i.clone().date(e));return n}(t))&&(e.dates=!0)};return class{constructor(e,t){return new O({target:"string"==typeof e?document.querySelector(e):e,data:t})}}}();
//# sourceMappingURL=calio.min.js.map
