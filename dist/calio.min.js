var Calio=function(){"use strict";function t(){}function e(t,e){for(const n in e)t[n]=e[n];return t}function n(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(n)}function i(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(t,e){t.appendChild(e)}function l(t,e,n){t.insertBefore(e,n||null)}function c(t){t.parentNode.removeChild(t)}function u(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function d(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function h(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function m(t,e){e=""+e,t.data!==e&&(t.data=e)}let g;function y(t){g=t}function v(){if(!g)throw new Error("Function called outside component initialization");return g}function p(){const t=v();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const r=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);o.slice().forEach(e=>{e.call(t,r)})}}}const $=[],M=[],b=[],D=[],Y=Promise.resolve();let x=!1;function w(){x||(x=!0,Y.then(k))}function T(){return w(),Y}function A(t){b.push(t)}let S=!1;const O=new Set;function k(){if(!S){S=!0;do{for(let t=0;t<$.length;t+=1){const e=$[t];y(e),B(e.$$)}for($.length=0;M.length;)M.pop()();for(let t=0;t<b.length;t+=1){const e=b[t];O.has(e)||(O.add(e),e())}b.length=0}while($.length);for(;D.length;)D.pop()();x=!1,S=!1,O.clear()}}function B(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(A)}}const E=new Set;let N;function C(t,e){t&&t.i&&(E.delete(t),t.i(e))}function _(t,e,n,o){if(t&&t.o){if(E.has(t))return;E.add(t),N.c.push(()=>{E.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}const z="undefined"!=typeof window?window:global;function F(t,e,o){const{fragment:a,on_mount:s,on_destroy:l,after_update:c}=t.$$;a&&a.m(e,o),A(()=>{const e=s.map(n).filter(i);l?l.push(...e):r(e),t.$$.on_mount=[]}),c.forEach(A)}function J(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function L(e,n,i,a,s,l,u=[-1]){const d=g;y(e);const f=n.props||{},h=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:s,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:o(),dirty:u};let m=!1;if(h.ctx=i?i(e,f,(t,n,...o)=>{const r=o.length?o[0]:n;return h.ctx&&s(h.ctx[t],h.ctx[t]=r)&&(h.bound[t]&&h.bound[t](r),m&&function(t,e){-1===t.$$.dirty[0]&&($.push(t),w(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n}):[],h.update(),m=!0,r(h.before_update),h.fragment=!!a&&a(h.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);h.fragment&&h.fragment.l(t),t.forEach(c)}else h.fragment&&h.fragment.c();n.intro&&C(e.$$.fragment),F(e,n.target,n.anchor),k()}y(d)}class W{$destroy(){J(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const j=/s{1,2}|m{1,2}|h{1,4}|Do|D{1,4}|Mo|M{1,4}|YY(?:YY)?|[aA]|"[^"]*"|'[^']*'/g,I={masks:{default:"DDD MMM DD YYYY hhh:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"DDDD, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DD'T'hh:mm:ss",isoUtcDateTime:"YYYY-MM-DD'T'hh:mm:ss'Z'"},words:{dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]}};function H(t,e=2){for(t=""+t;t.length<e;)t="0"+t;return t}class q{constructor(...t){const[e,n,o,r,i,a]=t;t.length>1?this.value=new Date(e,n,o||1,r||0,i||0,a||0):e instanceof q?this.value=e.clone().value:e instanceof Date?this.value=e:["number","string"].includes(typeof e)?this.value=new Date(e):this.value=new Date,"string"==typeof e&&this.value.setHours(this.value.getHours()+this.value.getTimezoneOffset()/60),this.value.setSeconds(0),this.value.setMilliseconds(0)}year(t=null){return null!==t?(this.value.setFullYear(t),this):this.value.getFullYear()}month(t=null){return null!==t?(this.value.setMonth(t),this):this.value.getMonth()}date(t=null){return null!==t?(this.value.setDate(t),this):this.value.getDate()}addDay(t=1){return this.date(this.date()+t),this}addMonth(t=1){return this.month(this.month()+t),this}addYear(t=1){return this.year(this.year()+t),this}subDay(t=1){return this.date(this.date()-t),this}subMonth(t=1){return this.month(this.month()-t),this}subYear(t=1){return this.year(this.year()-t),this}dayOfWeek(){return this.value.getDay()}endOfMonth(){return this.addMonth(),this.date(0),this}startOfMonth(){return this.date(1),this}isAfter(t){return this.value>t.value}isBefore(t){return this.value<t.value}isSame(t){return this.year()===t.year()&&this.month()===t.month()&&this.date()===t.date()}isBetween(t,e){return this.isAfter(t)&&this.isBefore(e)||this.isAfter(e)&&this.isBefore(t)}isSameMonth(t){return this.year()===t.year()&&this.month()===t.month()}isSameYear(t){return this.year()===t.year()}timestamp(){return this.value.getTime()}format(t){return function(t,e="default"){t=t instanceof Date?t:new Date(t),e=""+(I.masks[e]||e||I.masks.default);let n=t.getDate(),o=t.getSeconds(),r=t.getMinutes(),i=t.getHours(),a=t.getDay(),s=t.getMonth(),l=t.getFullYear(),c=i>11?"pm":"am",u=t=>["th","st","nd","rd"][t%10>3?0:(t%100-t%10!=10)*t%10],d={s:o,ss:H(o),m:r,mm:H(r),h:i,hh:H(i),hhh:i%12||12,hhhh:H(i%12||12),a:c,A:c.toUpperCase(),D:n,Do:`${n}${u(n)}`,DD:H(n),DDD:I.words.dayNames[a],DDDD:I.words.dayNames[a+7],M:s+1,Mo:`${s+1}${u(s+1)}`,MM:H(s+1),MMM:I.words.monthNames[s],MMMM:I.words.monthNames[s+12],YY:String(l).slice(2),YYYY:l};return e.replace(j,t=>t in d?d[t]:t.slice(1,t.length-1))}(this.value,t)}clone(){return new q(this.timestamp())}toString(){return this.value.toString()}}function U(e){let n,o,r,i,a=e[0].date()+"";return{c(){n=d("span"),o=f(a),h(n,"class",r="calio-day "+e[1])},m(t,r,a){var c,u,d,f;l(t,n,r),s(n,o),a&&i(),c=n,u="click",d=e[13],c.addEventListener(u,d,f),i=()=>c.removeEventListener(u,d,f)},p(t,[e]){1&e&&a!==(a=t[0].date()+"")&&m(o,a),2&e&&r!==(r="calio-day "+t[1])&&h(n,"class",r)},i:t,o:t,d(t){t&&c(n),i()}}}function P(t,e,n){const o=new q,r=p();let{view:i=new q}=e,{selection:a=[]}=e,{disabled:s=[]}=e,{day:l}=e,{min:c}=e,{max:u}=e,{mode:d}=e;let f,h,m,g;return t.$set=t=>{"view"in t&&n(4,i=t.view),"selection"in t&&n(3,a=t.selection),"disabled"in t&&n(5,s=t.disabled),"day"in t&&n(0,l=t.day),"min"in t&&n(6,c=t.min),"max"in t&&n(7,u=t.max),"mode"in t&&n(8,d=t.mode)},t.$$.update=()=>{9&t.$$.dirty&&n(9,(n(3,a=(new Array).concat(a).filter(Boolean)),f=a.find(t=>l.isSame(t)))),225&t.$$.dirty&&n(10,h=s.find(t=>t.isSame&&t.isSame(l))||c&&l.isBefore(c)||u&&l.isAfter(u)),265&t.$$.dirty&&n(11,m=(()=>{if("range"===d&&a){let[t,e]=a;if(t&&e)return l.isAfter(t)&&l.isBefore(e)}return!1})()),3601&t.$$.dirty&&n(1,g=[l.isSame(o)&&"is-today",i&&i.endOfMonth().isBefore(l)&&"is-next",i&&i.startOfMonth().isAfter(l)&&"is-prev",h&&"is-disabled",m&&"is-ranged",f&&"is-active"].filter(Boolean).join(" "))},[l,g,r,a,i,s,c,u,d,f,h,m,o,t=>r("select",l)]}class Z extends W{constructor(t){var e;super(),document.getElementById("svelte-1l2ul15-style")||((e=d("style")).id="svelte-1l2ul15-style",e.textContent=".calio-day{cursor:pointer;color:var(--color, #333)}.calio-day:hover{color:var(--color-hover, var(--color, #333));background:var(--bg-hover, #EEE)}.calio-day.is-today{font-weight:900}.calio-day.is-prev,.calio-day.is-next{color:var(--color-inactive, #CCC);background:var(--bg-inactive, transparent)}.calio-day.is-disabled{pointer-events:none;color:var(--color-disabled, var(--color-inactive, #CCC));background:var(--bg-disabled, transparent);opacity:var(--opacity-disabled, 0.5)}.calio-day.is-ranged{color:var(--color-ranged, var(--color-active, white));background:var(--bg-ranged, var(--bg-active, rgba(100, 149, 237, 0.66)))}.calio-day.is-active{color:var(--color-active, white);background:var(--bg-active, rgb(100, 149, 237))}",s(document.head,e)),L(this,t,P,U,a,{view:4,selection:3,disabled:5,day:0,min:6,max:7,mode:8})}}const{Boolean:G}=z;function K(t,e,n){const o=t.slice();return o[31]=e[n],o}function Q(t,e,n){const o=t.slice();return o[31]=e[n],o}function R(t){let e,n,o=t[31]+"";return{c(){e=d("span"),n=f(o),h(e,"class","calio-head")},m(t,o){l(t,e,o),s(e,n)},p(t,e){8&e[0]&&o!==(o=t[31]+"")&&m(n,o)},d(t){t&&c(e)}}}function V(t){let n;const o=[{day:t[31]},t[2]];let r={};for(let t=0;t<o.length;t+=1)r=e(r,o[t]);const i=new Z({props:r});return i.$on("select",(function(...e){return t[29](t[31],...e)})),{c(){var t;(t=i.$$.fragment)&&t.c()},m(t,e){F(i,t,e),n=!0},p(e,n){t=e;const r=20&n[0]?function(t,e){const n={},o={},r={$$scope:1};let i=t.length;for(;i--;){const a=t[i],s=e[i];if(s){for(const t in a)t in s||(o[t]=1);for(const t in s)r[t]||(n[t]=s[t],r[t]=1);t[i]=s}else for(const t in a)r[t]=1}for(const t in o)t in n||(n[t]=void 0);return n}(o,[16&n[0]&&{day:t[31]},4&n[0]&&(a=t[2],"object"==typeof a&&null!==a?a:{})]):{};var a;i.$set(r)},i(t){n||(C(i.$$.fragment,t),n=!0)},o(t){_(i.$$.fragment,t),n=!1},d(t){J(i,t)}}}function X(t){let e,n,o,i=t[3].headers,a=[];for(let e=0;e<i.length;e+=1)a[e]=R(Q(t,i,e));let m=t[4],g=[];for(let e=0;e<m.length;e+=1)g[e]=V(K(t,m,e));const y=t=>_(g[t],1,1,()=>{g[t]=null});return{c(){e=d("div");for(let t=0;t<a.length;t+=1)a[t].c();n=f(" ");for(let t=0;t<g.length;t+=1)g[t].c();h(e,"class","calio")},m(r,i){l(r,e,i);for(let t=0;t<a.length;t+=1)a[t].m(e,null);s(e,n);for(let t=0;t<g.length;t+=1)g[t].m(e,null);t[30](e),o=!0},p(t,o){if(8&o[0]){let r;for(i=t[3].headers,r=0;r<i.length;r+=1){const s=Q(t,i,r);a[r]?a[r].p(s,o):(a[r]=R(s),a[r].c(),a[r].m(e,n))}for(;r<a.length;r+=1)a[r].d(1);a.length=i.length}if(21&o[0]){let n;for(m=t[4],n=0;n<m.length;n+=1){const r=K(t,m,n);g[n]?(g[n].p(r,o),C(g[n],1)):(g[n]=V(r),g[n].c(),C(g[n],1),g[n].m(e,null))}for(N={r:0,c:[],p:N},n=m.length;n<g.length;n+=1)y(n);N.r||r(N.c),N=N.p}},i(t){if(!o){for(let t=0;t<m.length;t+=1)C(g[t]);o=!0}},o(t){g=g.filter(G);for(let t=0;t<g.length;t+=1)_(g[t]);o=!1},d(n){n&&c(e),u(a,n),u(g,n),t[30](null)}}}function tt(t,e,n,o){o&&"function"==typeof o.clone?o=o.clone():Array.isArray(o)&&(o=o.map(t=>"function"==typeof t.clone?t.clone():t)),e&&e.parentNode.dispatchEvent(new CustomEvent("calio:"+n,{detail:o})),t(n,o)}function et(t=null){return t?t instanceof q?t:Array.isArray(t)?new q(...t):new q(t):null}function nt(t,e,n){const o=new q,r=p();let i,a,s,l=null,c=new q,{headers:u=["Su","Mo","Tu","We","Th","Fr","Sa"]}=e,{mode:d="single"}=e,{strict:f=!1}=e,{disabled:h=[]}=e,{value:m=null}=e,{limit:g=null}=e,{min:y=null}=e,{max:$=null}=e;var b;function D({min:t,max:e,disabled:o}){T().then(()=>{t&&t.isAfter(c.clone().endOfMonth())&&w(t),e&&e.isBefore(c)&&w(e),"single"===d&&l?(t&&t.isAfter(l)&&x(t),e&&e.isBefore(l)&&x(e),o.find(t=>t.isSame(l))&&n(23,l=null)):l&&l.length&&(t&&n(23,l=l.filter(e=>t.isBefore(e))),e&&n(23,l=l.filter(t=>e.isAfter(t))),o.length&&n(23,l=l.filter(t=>!o.find(e=>e.isSame(t)))))})}function Y(t,e){let n,o,r=t.clone().startOfMonth(),i=[];n=r.dayOfWeek();for(let t=0;t<n;t++)i.unshift(r.clone().date(-t));r.endOfMonth();for(let t=1,e=r.date();t<=e;t++)i.push(r.clone().date(t));o=r.dayOfWeek(),r.startOfMonth().addMonth();for(let t=1;t<7-o;t++)i.push(r.clone().date(t));return i}function x(t){if(t=et(t)){if(s.disabled.find(e=>e.isSame(t))||s.min&&t.isBefore(s.min)||s.max&&t.isAfter(s.max))return;switch(d){case"range":n(23,l=function(t,e,n,o){let r=(new Array).concat(e).filter(Boolean)||[],i=r.findIndex(e=>e.isSame(t));if(i>-1)return r.splice(i,1),r;if(r.length>1)return[t.clone()];if(r=[...r,t.clone()].sort((t,e)=>t.timestamp()-e.timestamp()),n){let[t,n]=r;if(n&&!!o.find(e=>e.isAfter(t)&&e.isBefore(n)))return e}return r}(t,l,f,s.disabled));break;case"multi":n(23,l=function(t,e,n){let o=(new Array).concat(e).filter(Boolean)||[],r=o.findIndex(e=>e.isSame(t));return r>-1?(o.splice(r,1),o):!n||o.length<n?(o=[...o,t.clone()].sort((t,e)=>t.timestamp()-e.timestamp()),o):o}(t,l,g));break;default:n(23,[l,c]=function(t,e){return[t.clone(),e.isSameMonth(t)?e:t.clone().startOfMonth()]}(t,c),l,n(24,c))}}}function w(t){(t=et(t))&&n(24,c=t.clone().startOfMonth())}b=()=>{n(24,c),n(23,l),(new Array).concat(m).forEach(t=>x(t)),T().then(()=>{c&&tt(r,i,"view",c),l&&tt(r,i,"selection",l)})},v().$$.on_mount.push(b);let A;return t.$set=t=>{"headers"in t&&n(5,u=t.headers),"mode"in t&&n(6,d=t.mode),"strict"in t&&n(7,f=t.strict),"disabled"in t&&n(8,h=t.disabled),"value"in t&&n(9,m=t.value),"limit"in t&&n(10,g=t.limit),"min"in t&&n(11,y=t.min),"max"in t&&n(12,$=t.max)},t.$$.update=()=>{6432&t.$$.dirty[0]&&n(3,s={min:et(y),max:et($),headers:u.length?new Array(7).fill("",0,7).map((t,e)=>u[e]||t):[],disabled:(new Array).concat(h).filter(Boolean).map(et)}),16777224&t.$$.dirty[0]&&n(4,A=Y(c,s.disabled)),25165896&t.$$.dirty[0]&&n(2,a={disabled:s.disabled,min:s.min,max:s.max,selection:l,view:c,mode:d}),8388610&t.$$.dirty[0]&&tt(r,i,"selection",l),16777218&t.$$.dirty[0]&&tt(r,i,"view",c),8&t.$$.dirty[0]&&D(s),t.$$.dirty[0]},[x,i,a,s,A,u,d,f,h,m,g,y,$,et,function(t){n(24,c=c.clone().year(t))},function(){n(24,c=c.clone().addYear())},function(){n(24,c=c.clone().subYear())},function(t){n(24,c=c.clone().startOfMonth().month(t-1))},function(){n(24,c=c.clone().startOfMonth().addMonth())},function(){n(24,c=c.clone().startOfMonth().subMonth())},function(){n(24,c=o.clone().startOfMonth())},function(){"single"===d&&l&&n(24,c=l.clone().startOfMonth())},w,l,c,o,r,D,Y,(t,e)=>x(t),function(t){M[t?"unshift":"push"](()=>{n(1,i=t)})}]}class ot extends W{constructor(t){var e;super(),document.getElementById("svelte-1uuu3r4-style")||((e=d("style")).id="svelte-1uuu3r4-style",e.textContent=".calio{display:-ms-inline-grid;display:inline-grid;-ms-grid-columns:(var(--size-x, var(--size, 2.25em)))[7];grid-template-columns:repeat(7, var(--size-x, var(--size, 2.25em)));grid-auto-rows:var(--size-y, var(--size, 2em));line-height:var(--size-y, var(--size, 2em));text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.calio-head{color:var(--color, #333);font-weight:bold}",s(document.head,e)),L(this,t,nt,X,a,{headers:5,mode:6,strict:7,disabled:8,value:9,limit:10,min:11,max:12,select:0,makeMyDay:13,goToYear:14,goToNextYear:15,goToLastYear:16,goToMonth:17,goToNextMonth:18,goToLastMonth:19,goToThisMonth:20,goToSelection:21,goTo:22},[-1,-1])}get select(){return this.$$.ctx[0]}get makeMyDay(){return et}get goToYear(){return this.$$.ctx[14]}get goToNextYear(){return this.$$.ctx[15]}get goToLastYear(){return this.$$.ctx[16]}get goToMonth(){return this.$$.ctx[17]}get goToNextMonth(){return this.$$.ctx[18]}get goToLastMonth(){return this.$$.ctx[19]}get goToThisMonth(){return this.$$.ctx[20]}get goToSelection(){return this.$$.ctx[21]}get goTo(){return this.$$.ctx[22]}}return class{constructor(t,e={}){const n="string"==typeof t?document.querySelector(t):t;return new ot({target:n,props:e})}}}();
