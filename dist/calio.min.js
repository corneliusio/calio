var Calio=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n||null)}function l(t){t.parentNode.removeChild(t)}function u(t){return document.createElement(t)}function c(t){return document.createTextNode(t)}function d(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}class h{constructor(t,e=null){this.e=u("div"),this.a=e,this.u(t)}m(t,e=null){for(let n=0;n<this.n.length;n+=1)a(t,this.n[n],e);this.t=t}u(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}p(t){this.d(),this.u(t),this.m(this.t,this.a)}d(){this.n.forEach(l)}}let f;function m(t){f=t}function g(){if(!f)throw new Error("Function called outside component initialization");return f}function p(){const t=g();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const o=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);r.slice().forEach(e=>{e.call(t,o)})}}}const $=[],y=[],v=[],M=[],b=Promise.resolve();let D=!1;function x(){D||(D=!0,b.then(T))}function Y(t){v.push(t)}let w=!1;const A=new Set;function T(){if(!w){w=!0;do{for(let t=0;t<$.length;t+=1){const e=$[t];m(e),S(e.$$)}for($.length=0;y.length;)y.pop()();for(let t=0;t<v.length;t+=1){const e=v[t];A.has(e)||(A.add(e),e())}v.length=0}while($.length);for(;M.length;)M.pop()();D=!1,w=!1,A.clear()}}function S(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Y)}}const O=new Set;let k;function B(t,e){t&&t.i&&(O.delete(t),t.i(e))}function E(t,e,n,r){if(t&&t.o){if(O.has(t))return;O.add(t),k.c.push(()=>{O.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}function N(t){t&&t.c()}function C(t,n,i){const{fragment:s,on_mount:a,on_destroy:l,after_update:u}=t.$$;s&&s.m(n,i),Y(()=>{const n=a.map(e).filter(o);l?l.push(...n):r(n),t.$$.on_mount=[]}),u.forEach(Y)}function _(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function z(e,o,i,s,a,u,c=[-1]){const d=f;m(e);const h=o.props||{},g=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:n(),dirty:c};let p=!1;if(g.ctx=i?i(e,h,(t,n,...r)=>{const o=r.length?r[0]:n;return g.ctx&&a(g.ctx[t],g.ctx[t]=o)&&(g.bound[t]&&g.bound[t](o),p&&function(t,e){-1===t.$$.dirty[0]&&($.push(t),x(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n}):[],g.update(),p=!0,r(g.before_update),g.fragment=!!s&&s(g.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);g.fragment&&g.fragment.l(t),t.forEach(l)}else g.fragment&&g.fragment.c();o.intro&&B(e.$$.fragment),C(e,o.target,o.anchor),T()}m(d)}class F{$destroy(){_(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const L=/s{1,2}|m{1,2}|h{1,4}|Do|D{1,4}|Mo|M{1,4}|YY(?:YY)?|[aA]|"[^"]*"|'[^']*'/g,J={masks:{default:"DDD MMM DD YYYY hhh:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"DDDD, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DD'T'hh:mm:ss",isoUtcDateTime:"YYYY-MM-DD'T'hh:mm:ss'Z'"},words:{dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]}};function W(t,e=2){for(t=""+t;t.length<e;)t="0"+t;return t}class j{constructor(...t){const[e,n,r,o,i,s]=t;t.length>1?this.value=new Date(e,n,r||1,o||0,i||0,s||0):e instanceof j?this.value=e.clone().value:e instanceof Date?this.value=e:["number","string"].includes(typeof e)?this.value=new Date(e):Array.isArray(e)&&e.filter(Boolean).length?this.value=new Date(...e):this.value=new Date,"string"==typeof e&&this.value.setHours(this.value.getHours()+this.value.getTimezoneOffset()/60),this.value.setSeconds(0),this.value.setMilliseconds(0)}year(t=null){return null!==t?(this.value.setFullYear(t),this):this.value.getFullYear()}month(t=null){return null!==t?(this.value.setMonth(t),this):this.value.getMonth()}date(t=null){return null!==t?(this.value.setDate(t),this):this.value.getDate()}addDay(t=1){return this.date(this.date()+t),this}addMonth(t=1){return this.month(this.month()+t),this}addYear(t=1){return this.year(this.year()+t),this}subDay(t=1){return this.date(this.date()-t),this}subMonth(t=1){return this.month(this.month()-t),this}subYear(t=1){return this.year(this.year()-t),this}dayOfWeek(){return this.value.getDay()}endOfMonth(){return this.addMonth(),this.date(0),this}startOfMonth(){return this.date(1),this}isAfter(t){return this.value>t.value}isBefore(t){return this.value<t.value}isSame(t){return this.year()===t.year()&&this.month()===t.month()&&this.date()===t.date()}isBetween(t,e){return this.isAfter(t)&&this.isBefore(e)||this.isAfter(e)&&this.isBefore(t)}isSameMonth(t){return this.year()===t.year()&&this.month()===t.month()}isSameYear(t){return this.year()===t.year()}timestamp(){return this.value.getTime()}format(t){return function(t,e="default"){t=t instanceof Date?t:new Date(t),e=""+(J.masks[e]||e||J.masks.default);let n=t.getDate(),r=t.getSeconds(),o=t.getMinutes(),i=t.getHours(),s=t.getDay(),a=t.getMonth(),l=t.getFullYear(),u=i>11?"pm":"am",c=t=>["th","st","nd","rd"][t%10>3?0:(t%100-t%10!=10)*t%10],d={s:r,ss:W(r),m:o,mm:W(o),h:i,hh:W(i),hhh:i%12||12,hhhh:W(i%12||12),a:u,A:u.toUpperCase(),D:n,Do:`${n}${c(n)}`,DD:W(n),DDD:J.words.dayNames[s],DDDD:J.words.dayNames[s+7],M:a+1,Mo:`${a+1}${c(a+1)}`,MM:W(a+1),MMM:J.words.monthNames[a],MMMM:J.words.monthNames[a+12],YY:String(l).slice(2),YYYY:l};return e.replace(L,t=>t in d?d[t]:t.slice(1,t.length-1))}(this.value,t)}clone(){return new j(this.timestamp())}toString(){return this.value.toString()}get length(){return 1}}function H(e){let n,r,o,i=e[0].date()+"";return{c(){n=u("span"),r=c(i),d(n,"class",e[1])},m(t,i,l){var u,c,d,h;a(t,n,i),s(n,r),l&&o(),u=n,c="click",d=e[14],u.addEventListener(c,d,h),o=()=>u.removeEventListener(c,d,h)},p(t,[e]){1&e&&i!==(i=t[0].date()+"")&&function(t,e){e=""+e,t.data!==e&&(t.data=e)}(r,i),2&e&&d(n,"class",t[1])},i:t,o:t,d(t){t&&l(n),o()}}}function I(t,e,n){const r=new j,o=p();let{day:i}=e,{props:s}=e;let a,l,u,c,d,h,f,m,g,$;return t.$set=t=>{"day"in t&&n(0,i=t.day),"props"in t&&n(3,s=t.props)},t.$$.update=()=>{8&t.$$.dirty&&n(4,({selection:a,disabled:l,min:u,max:c,mode:d,view:h}=s),a,(n(5,l),n(3,s)),(n(6,u),n(3,s)),(n(7,c),n(3,s)),(n(8,d),n(3,s)),(n(9,h),n(3,s))),17&t.$$.dirty&&n(10,f=(new Array).concat(a).filter(Boolean).find(t=>i.isSame(t))),225&t.$$.dirty&&n(11,m=l.find(t=>t.isSame&&t.isSame(i))||u&&i.isBefore(u)||c&&i.isAfter(c)),273&t.$$.dirty&&n(12,g=(()=>{if("range"===d&&a){let[t,e]=a;if(t&&e)return i.isAfter(t)&&i.isBefore(e)}return!1})()),7681&t.$$.dirty&&n(1,$=["calio-day",i.isSame(r)&&"is-today",h&&h.endOfMonth().isBefore(i)&&"is-next",h&&h.startOfMonth().isAfter(i)&&"is-prev",m&&"is-disabled",g&&"is-ranged",f&&"is-active"].filter(Boolean).join(" "))},[i,$,o,s,a,l,u,c,d,h,f,m,g,r,t=>o("select",i)]}class q extends F{constructor(t){var e;super(),document.getElementById("svelte-1l2ul15-style")||((e=u("style")).id="svelte-1l2ul15-style",e.textContent=".calio-day{cursor:pointer;color:var(--color, #333)}.calio-day:hover{color:var(--color-hover, var(--color, #333));background:var(--bg-hover, #EEE)}.calio-day.is-today{font-weight:900}.calio-day.is-prev,.calio-day.is-next{color:var(--color-inactive, #CCC);background:var(--bg-inactive, transparent)}.calio-day.is-disabled{pointer-events:none;color:var(--color-disabled, var(--color-inactive, #CCC));background:var(--bg-disabled, transparent);opacity:var(--opacity-disabled, 0.5)}.calio-day.is-ranged{color:var(--color-ranged, var(--color-active, white));background:var(--bg-ranged, var(--bg-active, rgba(100, 149, 237, 0.66)))}.calio-day.is-active{color:var(--color-active, white);background:var(--bg-active, rgb(100, 149, 237))}",s(document.head,e)),z(this,t,I,H,i,{day:0,props:3})}}function U(t,e,n){const r=t.slice();return r[7]=e[n],r}function P(t){let e;const n=new q({props:{day:t[7],props:t[0]}});return n.$on("select",(function(...e){return t[6](t[7],...e)})),{c(){N(n.$$.fragment)},m(t,r){C(n,t,r),e=!0},p(e,r){t=e;const o={};2&r&&(o.day=t[7]),1&r&&(o.props=t[0]),n.$set(o)},i(t){e||(B(n.$$.fragment,t),e=!0)},o(t){E(n.$$.fragment,t),e=!1},d(t){_(n,t)}}}function Z(t){let e,n,o=t[1],i=[];for(let e=0;e<o.length;e+=1)i[e]=P(U(t,o,e));const s=t=>E(i[t],1,1,()=>{i[t]=null});return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=c("")},m(t,r){for(let e=0;e<i.length;e+=1)i[e].m(t,r);a(t,e,r),n=!0},p(t,[n]){if(7&n){let a;for(o=t[1],a=0;a<o.length;a+=1){const r=U(t,o,a);i[a]?(i[a].p(r,n),B(i[a],1)):(i[a]=P(r),i[a].c(),B(i[a],1),i[a].m(e.parentNode,e))}for(k={r:0,c:[],p:k},a=o.length;a<i.length;a+=1)s(a);k.r||r(k.c),k=k.p}},i(t){if(!n){for(let t=0;t<o.length;t+=1)B(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)E(i[t]);n=!1},d(t){!function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(i,t),t&&l(e)}}}function G(t,e,n){let{props:r}=e;const o=p();let{view:i,disabled:s}={};function a(t,e){let n,r,o=t.clone().startOfMonth(),i=[];n=o.dayOfWeek();for(let t=0;t<n;t++)i.unshift(o.clone().date(-t));o.endOfMonth();for(let t=1,e=o.date();t<=e;t++)i.push(o.clone().date(t));r=o.dayOfWeek(),o.startOfMonth().addMonth();for(let t=1;t<7-r;t++)i.push(o.clone().date(t));return i}let l;return t.$set=t=>{"props"in t&&n(0,r=t.props)},t.$$.update=()=>{1&t.$$.dirty&&n(3,({view:i,disabled:s}=r),i,(n(4,s),n(0,r))),24&t.$$.dirty&&n(1,l=a(i))},[r,l,o,i,s,a,(t,e)=>o("select",t)]}class K extends F{constructor(t){super(),z(this,t,G,Z,i,{props:0})}}function Q(e){let n;return{c(){n=new h(e[0],null)},m(t,e){n.m(t,e)},p:t,i:t,o:t,d(t){t&&n.d()}}}function R(t,e,n){let{headers:r}=e;const o=(r&&r.length?new Array(7).fill("",0,7).map((t,e)=>r[e]||t):[]).map(t=>`<span class="calio-head">${t}</span>`).join("\n");return t.$set=t=>{"headers"in t&&n(1,r=t.headers)},[o,r]}class V extends F{constructor(t){super(),z(this,t,R,Q,i,{headers:1})}}function X(t){let e,n,r;const o=new V({props:{headers:t[0]}}),i=new K({props:{props:t[2]}});return i.$on("select",t[3]),{c(){e=u("div"),N(o.$$.fragment),n=c(" "),N(i.$$.fragment),d(e,"class","calio")},m(l,u){a(l,e,u),C(o,e,null),s(e,n),C(i,e,null),t[36](e),r=!0},p(t,e){const n={};1&e[0]&&(n.headers=t[0]),o.$set(n);const r={};4&e[0]&&(r.props=t[2]),i.$set(r)},i(t){r||(B(o.$$.fragment,t),B(i.$$.fragment,t),r=!0)},o(t){E(o.$$.fragment,t),E(i.$$.fragment,t),r=!1},d(n){n&&l(e),_(o),_(i),t[36](null)}}}function tt(t){return(new Array).concat(t).filter(Boolean)}function et(t=null,...e){return t?t instanceof j?t.clone():e.length?new j(t,...e):Array.isArray(t)?t.filter(Boolean).length?new j(t):null:new j(t):null}function nt(t,e,n){const r=new j,o=p();let i,{value:s=null}=e,{headers:a=["Su","Mo","Tu","We","Th","Fr","Sa"]}=e,{mode:l="single"}=e,{strict:u=!1}=e,{disabled:c=[]}=e,{limit:d=null}=e,{min:h=null}=e,{max:f=null}=e,m=s,$=new j;var v;function M(t,e,r,o){switch(t=Array.isArray(t)?t.map(et):et(t),t=Array.isArray(t)&&"single"===l?t[0]:t,l){case"range":t=function(t){return(t=tt(t)).length>2&&(t=[t.pop()]),t=t.sort((t,e)=>t.timestamp()-e.timestamp())}(t);break;case"multi":t=function(t,e){return t=tt(t),e&&t.length>e&&(t=t.splice(0,e)),t=t.sort((t,e)=>t.timestamp()-e.timestamp())}(t,d);break;default:n(26,[t,$]=function(t,e){return t?[t,e.isSameMonth(t)?e.clone():t.clone().startOfMonth()]:[null,e]}(t,$),$)}return t&&t.length&&(t=w(t=Y(t=D(t,e),r),o)),n(25,m=t)}function D(t,e){if(e)if(e.isAfter($.clone().endOfMonth())&&S(e),"single"===l){if(e.isAfter(t))return null}else{const n=t.filter(t=>t.isAfter(e)||t.isSame(e));t=n.length?n:null}return t}function Y(t,e){if(e)if(e.isBefore($.clone().endOfMonth())&&S(e),"single"===l){if(e.isBefore(t))return null}else{const n=t.filter(t=>t.isBefore(e)||t.isSame(e));t=n.length?n:null}return t}function w(t,e){if(e.length&&t){if("single"!==l){const n=t.filter(t=>e.find(e=>!e.isSame(t)));return"range"===l&&u&&2===n.length&&e.find(t=>t.isBetween(...n))?null:n.length?n:null}if(e.find(e=>e.isSame(t)))return null}return t}function A(t,e,n){n&&"function"==typeof n.clone?n=n.clone():Array.isArray(n)&&(n=n.map(t=>t.clone())),t&&t.parentNode.dispatchEvent(new CustomEvent("calio:"+e,{detail:n,bubbles:!0})),o(e,n)}function T(t=null){let e=tt(m);if(!t)return n(25,m=null);if("single"===l)n(25,m=m&&m.isSame(t)?null:t);else if(e.length){let r=e.findIndex(e=>t.isSame(e));r>-1?e.splice(r,1):e.push(t),n(25,m=e)}else n(25,m=t)}function S(t){(t=et(t))&&n(26,$=t.clone().startOfMonth())}let O,k,B;return v=()=>{(x(),b).then(()=>{$&&A(i,"view",$),s&&B&&A(i,"selection",B)})},g().$$.on_mount.push(v),t.$set=t=>{"value"in t&&n(7,s=t.value),"headers"in t&&n(0,a=t.headers),"mode"in t&&n(8,l=t.mode),"strict"in t&&n(9,u=t.strict),"disabled"in t&&n(4,c=t.disabled),"limit"in t&&n(10,d=t.limit),"min"in t&&n(5,h=t.min),"max"in t&&n(6,f=t.max)},t.$$.update=()=>{112&t.$$.dirty[0]&&n(28,O={min:et(h),max:et(f),disabled:(new Array).concat(c).filter(Boolean).map(et)}),301989888&t.$$.dirty[0]&&n(27,B=M(m,O.min,O.max,O.disabled)),469762304&t.$$.dirty[0]&&n(2,k={disabled:O.disabled,min:O.min,max:O.max,selection:B,view:$,mode:l}),134217730&t.$$.dirty[0]&&A(i,"selection",B),67108866&t.$$.dirty[0]&&A(i,"view",$),268435458&t.$$.dirty[0]&&A(i,"disabled",O.disabled),268435458&t.$$.dirty[0]&&A(i,"min",O.min),268435458&t.$$.dirty[0]&&A(i,"max",O.max),t.$$.dirty[0]},[a,i,k,function(t){T(t.detail)},c,h,f,s,l,u,d,T,et,function(t){n(5,h=t||null)},function(t){n(6,f=t||null)},function(t){n(4,c=t)},function(t){n(26,$=$.clone().year(t))},function(){n(26,$=$.clone().addYear())},function(){n(26,$=$.clone().subYear())},function(t){n(26,$=$.clone().startOfMonth().month(t-1))},function(){n(26,$=$.clone().startOfMonth().addMonth())},function(){n(26,$=$.clone().startOfMonth().subMonth())},function(){n(26,$=r.clone().startOfMonth())},function(){"single"===l&&B&&n(26,$=B.clone().startOfMonth())},S,m,$,B,O,r,o,M,D,Y,w,A,function(t){y[t?"unshift":"push"](()=>{n(1,i=t)})}]}class rt extends F{constructor(t){var e;super(),document.getElementById("svelte-1uuu3r4-style")||((e=u("style")).id="svelte-1uuu3r4-style",e.textContent=".calio{display:-ms-inline-grid;display:inline-grid;-ms-grid-columns:(var(--size-x, var(--size, 2.25em)))[7];grid-template-columns:repeat(7, var(--size-x, var(--size, 2.25em)));grid-auto-rows:var(--size-y, var(--size, 2em));line-height:var(--size-y, var(--size, 2em));text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.calio-head{color:var(--color, #333);font-weight:bold}",s(document.head,e)),z(this,t,nt,X,i,{value:7,headers:0,mode:8,strict:9,disabled:4,limit:10,min:5,max:6,select:11,makeMyDay:12,setMin:13,setMax:14,setDisabled:15,goToYear:16,goToNextYear:17,goToLastYear:18,goToMonth:19,goToNextMonth:20,goToLastMonth:21,goToThisMonth:22,goToSelection:23,goTo:24},[-1,-1])}get select(){return this.$$.ctx[11]}get makeMyDay(){return et}get setMin(){return this.$$.ctx[13]}get setMax(){return this.$$.ctx[14]}get setDisabled(){return this.$$.ctx[15]}get goToYear(){return this.$$.ctx[16]}get goToNextYear(){return this.$$.ctx[17]}get goToLastYear(){return this.$$.ctx[18]}get goToMonth(){return this.$$.ctx[19]}get goToNextMonth(){return this.$$.ctx[20]}get goToLastMonth(){return this.$$.ctx[21]}get goToThisMonth(){return this.$$.ctx[22]}get goToSelection(){return this.$$.ctx[23]}get goTo(){return this.$$.ctx[24]}}return class{constructor(t,e={}){const n="string"==typeof t?document.querySelector(t):t;return new rt({target:n,props:e})}}}();
