var Calio=function(){"use strict";function t(){}function e(t,e){for(const n in e)t[n]=e[n];return t}function n(t){return t()}function r(){return Object.create(null)}function i(t){t.forEach(n)}function o(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(t,e){t.appendChild(e)}function l(t,e,n){t.insertBefore(e,n||null)}function c(t){t.parentNode.removeChild(t)}function u(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function d(t){return document.createElement(t)}function h(t){return document.createTextNode(t)}function f(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function m(t,e){e=""+e,t.data!==e&&(t.data=e)}let g;function y(t){g=t}function $(){if(!g)throw new Error("Function called outside component initialization");return g}function v(){const t=$();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const i=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);r.slice().forEach(e=>{e.call(t,i)})}}}const p=[],M=[],b=[],D=[],x=Promise.resolve();let Y=!1;function w(){Y||(Y=!0,x.then(O))}function S(){return w(),x}function T(t){b.push(t)}let A=!1;const k=new Set;function O(){if(!A){A=!0;do{for(let t=0;t<p.length;t+=1){const e=p[t];y(e),B(e.$$)}for(p.length=0;M.length;)M.pop()();for(let t=0;t<b.length;t+=1){const e=b[t];k.has(e)||(k.add(e),e())}b.length=0}while(p.length);for(;D.length;)D.pop()();Y=!1,A=!1,k.clear()}}function B(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(T)}}const E=new Set;let N;function C(t,e){t&&t.i&&(E.delete(t),t.i(e))}function _(t,e,n,r){if(t&&t.o){if(E.has(t))return;E.add(t),N.c.push(()=>{E.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}const z="undefined"!=typeof window?window:global;function F(t,e,r){const{fragment:a,on_mount:s,on_destroy:l,after_update:c}=t.$$;a&&a.m(e,r),T(()=>{const e=s.map(n).filter(o);l?l.push(...e):i(e),t.$$.on_mount=[]}),c.forEach(T)}function j(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function J(e,n,o,a,s,l,u=[-1]){const d=g;y(e);const h=n.props||{},f=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:s,bound:r(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:r(),dirty:u};let m=!1;if(f.ctx=o?o(e,h,(t,n,...r)=>{const i=r.length?r[0]:n;return f.ctx&&s(f.ctx[t],f.ctx[t]=i)&&(f.bound[t]&&f.bound[t](i),m&&function(t,e){-1===t.$$.dirty[0]&&(p.push(t),w(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n}):[],f.update(),m=!0,i(f.before_update),f.fragment=!!a&&a(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(c)}else f.fragment&&f.fragment.c();n.intro&&C(e.$$.fragment),F(e,n.target,n.anchor),O()}y(d)}class L{$destroy(){j(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const W=/s{1,2}|m{1,2}|h{1,4}|Do|D{1,4}|Mo|M{1,4}|YY(?:YY)?|[aA]|"[^"]*"|'[^']*'/g,I={masks:{default:"DDD MMM DD YYYY hhh:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"DDDD, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DD'T'hh:mm:ss",isoUtcDateTime:"YYYY-MM-DD'T'hh:mm:ss'Z'"},words:{dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]}};function H(t,e=2){for(t=""+t;t.length<e;)t="0"+t;return t}class q{constructor(...t){const[e,n,r,i,o,a]=t;t.length>1?this.value=new Date(e,n,r||1,i||0,o||0,a||0):e instanceof q?this.value=e.clone().value:e instanceof Date?this.value=e:["number","string"].includes(typeof e)?this.value=new Date(e):this.value=new Date,"string"==typeof e&&this.value.setHours(this.value.getHours()+this.value.getTimezoneOffset()/60),this.value.setSeconds(0),this.value.setMilliseconds(0)}year(t=null){return null!==t?(this.value.setFullYear(t),this):this.value.getFullYear()}month(t=null){return null!==t?(this.value.setMonth(t),this):this.value.getMonth()}date(t=null){return null!==t?(this.value.setDate(t),this):this.value.getDate()}addDay(t=1){return this.date(this.date()+t),this}addMonth(t=1){return this.month(this.month()+t),this}addYear(t=1){return this.year(this.year()+t),this}subDay(t=1){return this.date(this.date()-t),this}subMonth(t=1){return this.month(this.month()-t),this}subYear(t=1){return this.year(this.year()-t),this}dayOfWeek(){return this.value.getDay()}endOfMonth(){return this.addMonth(),this.date(0),this}startOfMonth(){return this.date(1),this}isAfter(t){return this.value>t.value}isBefore(t){return this.value<t.value}isSame(t){return this.year()===t.year()&&this.month()===t.month()&&this.date()===t.date()}isBetween(t,e){return this.isAfter(t)&&this.isBefore(e)||this.isAfter(e)&&this.isBefore(t)}isSameMonth(t){return this.year()===t.year()&&this.month()===t.month()}isSameYear(t){return this.year()===t.year()}timestamp(){return this.value.getTime()}format(t){return function(t,e="default"){t=t instanceof Date?t:new Date(t),e=""+(I.masks[e]||e||I.masks.default);let n=t.getDate(),r=t.getSeconds(),i=t.getMinutes(),o=t.getHours(),a=t.getDay(),s=t.getMonth(),l=t.getFullYear(),c=o>11?"pm":"am",u=t=>["th","st","nd","rd"][t%10>3?0:(t%100-t%10!=10)*t%10],d={s:r,ss:H(r),m:i,mm:H(i),h:o,hh:H(o),hhh:o%12||12,hhhh:H(o%12||12),a:c,A:c.toUpperCase(),D:n,Do:`${n}${u(n)}`,DD:H(n),DDD:I.words.dayNames[a],DDDD:I.words.dayNames[a+7],M:s+1,Mo:`${s+1}${u(s+1)}`,MM:H(s+1),MMM:I.words.monthNames[s],MMMM:I.words.monthNames[s+12],YY:String(l).slice(2),YYYY:l};return e.replace(W,t=>t in d?d[t]:t.slice(1,t.length-1))}(this.value,t)}clone(){return new q(this.timestamp())}toString(){return this.value.toString()}get length(){return this.value?1:0}}function U(e){let n,r,i,o,a=e[0].date()+"";return{c(){n=d("span"),r=h(a),f(n,"class",i="calio-day "+e[1])},m(t,i,a){var c,u,d,h;l(t,n,i),s(n,r),a&&o(),c=n,u="click",d=e[13],c.addEventListener(u,d,h),o=()=>c.removeEventListener(u,d,h)},p(t,[e]){1&e&&a!==(a=t[0].date()+"")&&m(r,a),2&e&&i!==(i="calio-day "+t[1])&&f(n,"class",i)},i:t,o:t,d(t){t&&c(n),o()}}}function P(t,e,n){const r=new q,i=v();let{view:o=new q}=e,{selection:a=[]}=e,{disabled:s=[]}=e,{day:l}=e,{min:c}=e,{max:u}=e,{mode:d}=e;let h,f,m,g;return t.$set=t=>{"view"in t&&n(4,o=t.view),"selection"in t&&n(3,a=t.selection),"disabled"in t&&n(5,s=t.disabled),"day"in t&&n(0,l=t.day),"min"in t&&n(6,c=t.min),"max"in t&&n(7,u=t.max),"mode"in t&&n(8,d=t.mode)},t.$$.update=()=>{9&t.$$.dirty&&n(9,(n(3,a=(new Array).concat(a).filter(Boolean)),h=a.find(t=>l.isSame(t)))),225&t.$$.dirty&&n(10,f=s.find(t=>t.isSame&&t.isSame(l))||c&&l.isBefore(c)||u&&l.isAfter(u)),265&t.$$.dirty&&n(11,m=(()=>{if("range"===d&&a){let[t,e]=a;if(t&&e)return l.isAfter(t)&&l.isBefore(e)}return!1})()),3601&t.$$.dirty&&n(1,g=[l.isSame(r)&&"is-today",o&&o.endOfMonth().isBefore(l)&&"is-next",o&&o.startOfMonth().isAfter(l)&&"is-prev",f&&"is-disabled",m&&"is-ranged",h&&"is-active"].filter(Boolean).join(" "))},[l,g,i,a,o,s,c,u,d,h,f,m,r,t=>i("select",l)]}class Z extends L{constructor(t){var e;super(),document.getElementById("svelte-18kp2rj-style")||((e=d("style")).id="svelte-18kp2rj-style",e.textContent=".calio-day{cursor:pointer;color:var(--color, #333)}.calio-day:hover{color:var(--color-hover, var(--color, #333));background:var(--bg-hover, #EEE)}.calio-day.is-today{font-weight:900}.calio-day.is-prev,.calio-day.is-next{color:var(--color-inactive, #CCC);background:var(--bg-inactive, transparent)}.calio-day.is-disabled{pointer-events:none;color:var(--color-disabled, var(--color-inactive, #CCC));background:var(--bg-disabled, transparent);opacity:var(--opacity-disabled, 0.5)}.calio-day.is-ranged{color:var(--color-ranged, var(--color-active, white));background:var(--bg-ranged, var(--bg-active, rgba(100, 149, 237, 0.66)))}.calio-day.is-active{color:var(--color-active, white);background:var(--bg-active, rgb(100, 149, 237))}",s(document.head,e)),J(this,t,P,U,a,{view:4,selection:3,disabled:5,day:0,min:6,max:7,mode:8})}}const{Boolean:G}=z;function K(t,e,n){const r=t.slice();return r[38]=e[n],r}function Q(t,e,n){const r=t.slice();return r[38]=e[n],r}function R(t){let e,n,r=t[38]+"";return{c(){e=d("span"),n=h(r),f(e,"class","calio-head")},m(t,r){l(t,e,r),s(e,n)},p(t,e){2&e[0]&&r!==(r=t[38]+"")&&m(n,r)},d(t){t&&c(e)}}}function V(t){let n;const r=[{day:t[38]},t[3]];let i={};for(let t=0;t<r.length;t+=1)i=e(i,r[t]);const o=new Z({props:i});return o.$on("select",t[4]),{c(){var t;(t=o.$$.fragment)&&t.c()},m(t,e){F(o,t,e),n=!0},p(t,e){const n=12&e[0]?function(t,e){const n={},r={},i={$$scope:1};let o=t.length;for(;o--;){const a=t[o],s=e[o];if(s){for(const t in a)t in s||(r[t]=1);for(const t in s)i[t]||(n[t]=s[t],i[t]=1);t[o]=s}else for(const t in a)i[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}(r,[4&e[0]&&{day:t[38]},8&e[0]&&(i=t[3],"object"==typeof i&&null!==i?i:{})]):{};var i;o.$set(n)},i(t){n||(C(o.$$.fragment,t),n=!0)},o(t){_(o.$$.fragment,t),n=!1},d(t){j(o,t)}}}function X(t){let e,n,r,o=t[1].headers,a=[];for(let e=0;e<o.length;e+=1)a[e]=R(Q(t,o,e));let m=t[2],g=[];for(let e=0;e<m.length;e+=1)g[e]=V(K(t,m,e));const y=t=>_(g[t],1,1,()=>{g[t]=null});return{c(){e=d("div");for(let t=0;t<a.length;t+=1)a[t].c();n=h(" ");for(let t=0;t<g.length;t+=1)g[t].c();f(e,"class","calio")},m(i,o){l(i,e,o);for(let t=0;t<a.length;t+=1)a[t].m(e,null);s(e,n);for(let t=0;t<g.length;t+=1)g[t].m(e,null);t[37](e),r=!0},p(t,r){if(2&r[0]){let i;for(o=t[1].headers,i=0;i<o.length;i+=1){const s=Q(t,o,i);a[i]?a[i].p(s,r):(a[i]=R(s),a[i].c(),a[i].m(e,n))}for(;i<a.length;i+=1)a[i].d(1);a.length=o.length}if(28&r[0]){let n;for(m=t[2],n=0;n<m.length;n+=1){const i=K(t,m,n);g[n]?(g[n].p(i,r),C(g[n],1)):(g[n]=V(i),g[n].c(),C(g[n],1),g[n].m(e,null))}for(N={r:0,c:[],p:N},n=m.length;n<g.length;n+=1)y(n);N.r||i(N.c),N=N.p}},i(t){if(!r){for(let t=0;t<m.length;t+=1)C(g[t]);r=!0}},o(t){g=g.filter(G);for(let t=0;t<g.length;t+=1)_(g[t]);r=!1},d(n){n&&c(e),u(a,n),u(g,n),t[37](null)}}}function tt(t,e,n,r){r&&"function"==typeof r.clone?r=r.clone():Array.isArray(r)&&(r=r.map(t=>t.clone())),e&&e.parentNode.dispatchEvent(new CustomEvent("calio:"+n,{detail:r,bubbles:!0})),t(n,r)}function et(t=null){return t?t instanceof q?t:Array.isArray(t)?new q(...t):new q(t):null}function nt(t,e,n){const r=new q,i=v();let o,{headers:a=["Su","Mo","Tu","We","Th","Fr","Sa"]}=e,{mode:s="single"}=e,{strict:l=!1}=e,{disabled:c=[]}=e,{value:u=null}=e,{limit:d=null}=e,{min:h=null}=e,{max:f=null}=e,m=new q;var g;function y(t){if(t&&(t.isAfter(m.clone().endOfMonth())&&A(t),k&&k.length))if("single"===s)t.isAfter(k)&&w(t);else{const e=k.filter(e=>e.isAfter(t)||e.isSame(t));e.length?S().then(()=>n(6,u=e)):w(t)}tt(i,o,"min",t)}function p(t){if(t&&(t.isBefore(m)&&A(t),k&&k.length))if("single"===s)t.isBefore(k)&&w(t);else{const e=k.filter(e=>e.isBefore(t)||e.isSame(t));e.length?S().then(()=>n(6,u=e)):w(t)}tt(i,o,"max",t)}function b(t){if(k&&k.length)if("single"===s)O.disabled.find(t=>t.isSame(k))&&w(null);else{const t=O.disabled.length&&k.filter(t=>O.disabled.find(e=>!e.isSame(t)));t.length?S().then(()=>n(6,u=t)):w(null),"range"===s&&l&&2===k.length&&O.disabled.find(t=>t.isBetween(...k))&&w(null)}tt(i,o,"disabled",t)}function D(t,e){let n,r,i=t.clone().startOfMonth(),o=[];n=i.dayOfWeek();for(let t=0;t<n;t++)o.unshift(i.clone().date(-t));i.endOfMonth();for(let t=1,e=i.date();t<=e;t++)o.push(i.clone().date(t));r=i.dayOfWeek(),i.startOfMonth().addMonth();for(let t=1;t<7-r;t++)o.push(i.clone().date(t));return o}function x(t,e,n,r){let i=(new Array).concat(e).filter(Boolean)||[],o=i.findIndex(e=>e.isSame(t));if(o>-1)return i.splice(o,1),i;if(i.length>1)return[t.clone()];if(i=[...i,t.clone()].sort((t,e)=>t.timestamp()-e.timestamp()),n){let[t,n]=i;if(n&&!!r.find(e=>e.isAfter(t)&&e.isBefore(n)))return e}return i}function Y(t,e,n){let r=(new Array).concat(e).filter(Boolean)||[],i=r.findIndex(e=>e.isSame(t));return i>-1?(r.splice(i,1),r):!n||r.length<n?(r=[...r,t.clone()].sort((t,e)=>t.timestamp()-e.timestamp()),r):r}async function w(t=null){if(await S(),t=et(t)){if(O.disabled.find(e=>e.isSame(t))||O.min&&t.isBefore(O.min)||O.max&&t.isAfter(O.max))return;switch(s){case"range":n(28,k=x(t,k,l,O.disabled));break;case"multi":n(28,k=Y(t,k,d));break;default:n(28,[k,m]=function(t,e){return[t.clone(),e.isSameMonth(t)?e:t.clone().startOfMonth()]}(t,m),k,n(27,m))}}else n(28,k=null)}function T(){"single"===s&&k&&n(27,m=k.clone().startOfMonth())}function A(t){(t=et(t))&&n(27,m=t.clone().startOfMonth())}let k,O,B,E;return g=()=>{T(),S().then(()=>{m&&tt(i,o,"view",m),k&&tt(i,o,"selection",k)})},$().$$.on_mount.push(g),t.$set=t=>{"headers"in t&&n(9,a=t.headers),"mode"in t&&n(10,s=t.mode),"strict"in t&&n(11,l=t.strict),"disabled"in t&&n(5,c=t.disabled),"value"in t&&n(6,u=t.value),"limit"in t&&n(12,d=t.limit),"min"in t&&n(7,h=t.min),"max"in t&&n(8,f=t.max)},t.$$.update=()=>{64&t.$$.dirty[0]&&n(28,k=Array.isArray(u)?u.map(et):et(u)),928&t.$$.dirty[0]&&n(1,O={min:et(h),max:et(f),headers:a.length?new Array(7).fill("",0,7).map((t,e)=>a[e]||t):[],disabled:(new Array).concat(c).filter(Boolean).map(et)}),134217730&t.$$.dirty[0]&&n(2,B=D(m,O.disabled)),402654210&t.$$.dirty[0]&&n(3,E={disabled:O.disabled,min:O.min,max:O.max,selection:k,view:m,mode:s}),268435457&t.$$.dirty[0]&&tt(i,o,"selection",k),134217729&t.$$.dirty[0]&&tt(i,o,"view",m),2&t.$$.dirty[0]&&y(O.min),2&t.$$.dirty[0]&&p(O.max),2&t.$$.dirty[0]&&b(O.disabled),t.$$.dirty[0]},[o,O,B,E,function(t){return w(t.detail)},c,u,h,f,a,s,l,d,w,et,function(t){n(7,h=t||null)},function(t){n(8,f=t||null)},function(t){n(5,c=t)},function(t){n(27,m=m.clone().year(t))},function(){n(27,m=m.clone().addYear())},function(){n(27,m=m.clone().subYear())},function(t){n(27,m=m.clone().startOfMonth().month(t-1))},function(){n(27,m=m.clone().startOfMonth().addMonth())},function(){n(27,m=m.clone().startOfMonth().subMonth())},function(){n(27,m=r.clone().startOfMonth())},T,A,m,k,r,i,y,p,b,D,x,Y,function(t){M[t?"unshift":"push"](()=>{n(0,o=t)})}]}class rt extends L{constructor(t){var e;super(),document.getElementById("svelte-i8ptc6-style")||((e=d("style")).id="svelte-i8ptc6-style",e.textContent=".calio{display:-ms-inline-grid;display:inline-grid;-ms-grid-columns:(var(--size-x, var(--size, 2.25em)))[7];grid-template-columns:repeat(7, var(--size-x, var(--size, 2.25em)));grid-auto-rows:var(--size-y, var(--size, 2em));line-height:var(--size-y, var(--size, 2em));text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.calio-head{color:var(--color, #333);font-weight:bold}",s(document.head,e)),J(this,t,nt,X,a,{headers:9,mode:10,strict:11,disabled:5,value:6,limit:12,min:7,max:8,select:13,makeMyDay:14,setMin:15,setMax:16,setDisabled:17,goToYear:18,goToNextYear:19,goToLastYear:20,goToMonth:21,goToNextMonth:22,goToLastMonth:23,goToThisMonth:24,goToSelection:25,goTo:26},[-1,-1])}get select(){return this.$$.ctx[13]}get makeMyDay(){return et}get setMin(){return this.$$.ctx[15]}get setMax(){return this.$$.ctx[16]}get setDisabled(){return this.$$.ctx[17]}get goToYear(){return this.$$.ctx[18]}get goToNextYear(){return this.$$.ctx[19]}get goToLastYear(){return this.$$.ctx[20]}get goToMonth(){return this.$$.ctx[21]}get goToNextMonth(){return this.$$.ctx[22]}get goToLastMonth(){return this.$$.ctx[23]}get goToThisMonth(){return this.$$.ctx[24]}get goToSelection(){return this.$$.ctx[25]}get goTo(){return this.$$.ctx[26]}}return class{constructor(t,e={}){const n="string"==typeof t?document.querySelector(t):t;return new rt({target:n,props:e})}}}();
