var Calio=function(){"use strict";function e(){}function t(e,t){for(const n in t)e[n]=t[n];return e}function n(e){return e()}function o(){return Object.create(null)}function i(e){e.forEach(n)}function a(e){return"function"==typeof e}function r(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function s(e,t){e.appendChild(t)}function l(e,t,n){e.insertBefore(t,n||null)}function c(e){e.parentNode.removeChild(e)}function d(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function u(e){return document.createElement(e)}function m(e){return document.createTextNode(e)}function h(e,t){t=""+t,e.data!==t&&(e.data=t)}let f;function y(e){f=e}function v(e){(function(){if(!f)throw new Error("Function called outside component initialization");return f})().$$.on_mount.push(e)}function g(){const e=f;return(t,n)=>{const o=e.$$.callbacks[t];if(o){const i=function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(t,n);o.slice().forEach(t=>{t.call(e,i)})}}}const p=[],$=Promise.resolve();let b=!1;const x=[],T=[],w=[];function M(){b||(b=!0,$.then(C))}function S(e){T.push(e)}function C(){const e=new Set;do{for(;p.length;){const e=p.shift();y(e),k(e.$$)}for(;x.length;)x.shift()();for(;T.length;){const t=T.pop();e.has(t)||(t(),e.add(t))}}while(p.length);for(;w.length;)w.pop()();b=!1}function k(e){e.fragment&&(e.update(e.dirty),i(e.before_render),e.fragment.p(e.dirty,e.ctx),e.dirty=null,e.after_render.forEach(S))}let D;function N(e,t,o){const{fragment:r,on_mount:s,on_destroy:l,after_render:c}=e.$$;r.m(t,o),S(()=>{const t=s.map(n).filter(a);l?l.push(...t):i(t),e.$$.on_mount=[]}),c.forEach(S)}function O(t,n,a,r,s,l){const c=f;y(t);const d=n.props||{},u=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:s,bound:o(),on_mount:[],on_destroy:[],before_render:[],after_render:[],context:new Map(c?c.$$.context:[]),callbacks:o(),dirty:null};let m=!1;var h;u.ctx=a?a(t,d,(e,n)=>{u.ctx&&s(u.ctx[e],u.ctx[e]=n)&&(u.bound[e]&&u.bound[e](n),m&&function(e,t){e.$$.dirty||(p.push(e),M(),e.$$.dirty=o()),e.$$.dirty[t]=!0}(t,e))}):d,u.update(),m=!0,i(u.before_render),u.fragment=r(u.ctx),n.target&&(n.hydrate?u.fragment.l((h=n.target,Array.from(h.childNodes))):u.fragment.c(),n.intro&&t.$$.fragment.i&&t.$$.fragment.i(),N(t,n.target,n.anchor),C()),y(c)}class _{$destroy(){var t,n;n=!0,(t=this).$$&&(i(t.$$.on_destroy),t.$$.fragment.d(n),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={}),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}function z(e,t,n,o){e(n,o),t&&t.parentNode.dispatchEvent(new CustomEvent(`calio:${n}`,{detail:o}))}const A=/d{1,4}|m{1,4}|yy(?:yy)?|([HhsTt])\1?|[LloS]|"[^"]*"|'[^']*'/g,Y={masks:{default:"ddd mmm dd yyyy 00:00:00",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",isoDate:"yyyy-mm-dd",isoDateTime:"yyyy-mm-dd'T'00:00:00",isoUtcDateTime:"yyyy-mm-dd'T'00:00:00'Z'"},i18n:{dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]}};function E(e,t=2){for(e=`${e}`;e.length<t;)e=`0${e}`;return e}class U{constructor(...e){const[t,n,o]=e;e.length>1?this.value=new Date(t,n,o||1):t instanceof U?this.value=t.clone().value:t instanceof Date?this.value=t:["number","string"].includes(typeof t)?this.value=new Date(t):this.value=new Date,this.value.setUTCHours(0),this.value.setUTCMinutes(0),this.value.setUTCSeconds(0),this.value.setUTCMilliseconds(0)}year(e=null){return null!==e?(this.value.setUTCFullYear(e),this):this.value.getUTCFullYear()}month(e=null){return null!==e?(this.value.setUTCMonth(e),this):this.value.getUTCMonth()}date(e=null){return null!==e?(this.value.setUTCDate(e),this):this.value.getUTCDate()}addDay(e=1){return this.date(this.date()+e),this}addMonth(e=1){return this.month(this.month()+e),this}addYear(e=1){return this.year(this.year()+e),this}subDay(e=1){return this.date(this.date()-e),this}subMonth(e=1){return this.month(this.month()-e),this}subYear(e=1){return this.year(this.year()-e),this}dayOfWeek(){return this.value.getUTCDay()}endOfMonth(){return this.addMonth(),this.date(0),this}startOfMonth(){return this.date(1),this}isAfter(e){return this.value>e.value}isBefore(e){return this.value<e.value}isSame(e){return this.year()===e.year()&&this.month()===e.month()&&this.date()===e.date()}isSameMonth(e){return this.year()===e.year()&&this.month()===e.month()}isSameYear(e){return this.year()===e.year()}timestamp(){return this.value.getTime()}format(e){return function(e,t="default"){"object"==typeof e&&"timestamp"in e&&(e=e.timestamp()),e=e instanceof Date?e:new Date(e),t=`${Y.masks[t]||t||Y.masks.default}`;let n=e.getUTCDate(),o=e.getUTCDay(),i=e.getUTCMonth(),a=e.getUTCFullYear(),r={d:n,dd:E(n),ddd:Y.i18n.dayNames[o],dddd:Y.i18n.dayNames[o+7],m:i+1,mm:E(i+1),mmm:Y.i18n.monthNames[i],mmmm:Y.i18n.monthNames[i+12],yy:String(a).slice(2),yyyy:a,S:["th","st","nd","rd"][n%10>3?0:(n%100-n%10!=10)*n%10]};return t.replace(A,e=>e in r?r[e]:e.slice(1,e.length-1))}(this.timestamp(),e)}clone(){return new U(this.timestamp())}toString(){return this.value.toString()}}function B(t){var n,o,i,a,r=t.day.date();return{c(){var e,s,l,c;n=u("span"),o=m(r),n.className=i="calio-day "+t.classes+" svelte-1mp2c5z",e=n,s="click",l=t.click_handler,e.addEventListener(s,l,c),a=(()=>e.removeEventListener(s,l,c))},m(e,t){l(e,n,t),s(n,o)},p(e,t){e.day&&r!==(r=t.day.date())&&h(o,r),e.classes&&i!==(i="calio-day "+t.classes+" svelte-1mp2c5z")&&(n.className=i)},i:e,o:e,d(e){e&&c(n),a()}}}function L(e,t,n){const o=new U,i=g();let a,r,s,l,{view:c=new U,selection:d=[],disabled:u=[],day:m,min:h,max:f,mode:y}=t;return e.$set=(e=>{"view"in e&&n("view",c=e.view),"selection"in e&&n("selection",d=e.selection),"disabled"in e&&n("disabled",u=e.disabled),"day"in e&&n("day",m=e.day),"min"in e&&n("min",h=e.min),"max"in e&&n("max",f=e.max),"mode"in e&&n("mode",y=e.mode)}),e.$$.update=((e={selection:1,day:1,disabled:1,min:1,max:1,mode:1,view:1,isDisabled:1,isRanged:1,isActive:1})=>{(e.selection||e.day)&&n("isActive",a=(()=>(n("selection",d=(new Array).concat(d).filter(Boolean)),d.find(e=>m.isSame(e))))()),(e.disabled||e.day||e.min||e.max)&&n("isDisabled",r=(()=>u.find(e=>e.isSame&&e.isSame(m))||h&&m.isBefore(h)||f&&m.isAfter(f))()),(e.mode||e.selection||e.day)&&n("isRanged",s=(()=>{if("range"===y&&d){let[e,t]=d;if(e&&t)return m.isAfter(e)&&m.isBefore(t)}return!1})()),(e.day||e.view||e.isDisabled||e.isRanged||e.isActive)&&n("classes",l=[m.isSame(o)&&"is-today",c&&c.endOfMonth().isBefore(m)&&"is-next",c&&c.startOfMonth().isAfter(m)&&"is-prev",r&&"is-disabled",s&&"is-ranged",a&&"is-active"].filter(Boolean).join(" "))}),{dispatch:i,view:c,selection:d,disabled:u,day:m,min:h,max:f,mode:y,classes:l,click_handler:function(e){return i("select",m)}}}class F extends _{constructor(e){var t;super(),document.getElementById("svelte-1mp2c5z-style")||((t=u("style")).id="svelte-1mp2c5z-style",t.textContent=".calio-day.svelte-1mp2c5z{cursor:pointer;color:var(--color, #333)}.calio-day.svelte-1mp2c5z:hover{color:var(--color-hover, var(--color, #333));background:var(--bg-hover, #EEE)}.calio-day.is-today.svelte-1mp2c5z{font-weight:900}.calio-day.is-prev.svelte-1mp2c5z,.calio-day.is-next.svelte-1mp2c5z{color:var(--color-inactive, #CCC);background:var(--bg-inactive, transparent)}.calio-day.is-disabled.svelte-1mp2c5z{pointer-events:none;color:var(--color-disabled, var(--color-inactive, #CCC));background:var(--bg-disabled, transparent);opacity:var(--opacity-disabled, 0.5)}.calio-day.is-ranged.svelte-1mp2c5z{color:var(--color-ranged, var(--color-active, white));background:var(--bg-ranged, var(--bg-active, rgba(100, 149, 237, 0.66)))}.calio-day.is-active.svelte-1mp2c5z{color:var(--color-active, white);background:var(--bg-active, rgb(100, 149, 237))}",s(document.head,t)),O(this,e,L,B,r,["view","selection","disabled","day","min","max","mode"])}}function q(e,t,n){const o=Object.create(e);return o.day=t[n],o}function j(e,t,n){const o=Object.create(e);return o.day=t[n],o}function J(e){var t,n,o=e.day;return{c(){t=u("span"),n=m(o),t.className="calio-head svelte-4rx1aq"},m(e,o){l(e,t,o),s(t,n)},p(e,t){e.computed&&o!==(o=t.day)&&h(n,o)},d(e){e&&c(t)}}}function W(e){var n,o=[{day:e.day},e.props];let i={};for(var a=0;a<o.length;a+=1)i=t(i,o[a]);var r=new F({props:i});return r.$on("select",function(...t){return e.select_handler(e,...t)}),{c(){r.$$.fragment.c()},m(e,t){N(r,e,t),n=!0},p(t,n){e=n;var i=t.dates||t.props?function(e,t){const n={},o={},i={$$scope:1};let a=e.length;for(;a--;){const r=e[a],s=t[a];if(s){for(const e in r)e in s||(o[e]=1);for(const e in s)i[e]||(n[e]=s[e],i[e]=1);e[a]=s}else for(const e in r)i[e]=1}for(const e in o)e in n||(n[e]=void 0);return n}(o,[t.dates&&{day:e.day},t.props&&e.props]):{};r.$set(i)},i(e){n||(r.$$.fragment.i(e),n=!0)},o(e){r.$$.fragment.o(e),n=!1},d(e){r.$destroy(e)}}}function I(e){for(var t,n,o,a=e.computed.headers,r=[],h=0;h<a.length;h+=1)r[h]=J(j(e,a,h));var f=e.dates,y=[];for(h=0;h<f.length;h+=1)y[h]=W(q(e,f,h));function v(e,t,n){var o;y[e]&&(t&&(o=(()=>{y[e].d(t),y[e]=null}),D.callbacks.push(o)),y[e].o(n))}return{c(){t=u("div");for(var e=0;e<r.length;e+=1)r[e].c();n=m(" ");for(e=0;e<y.length;e+=1)y[e].c();t.className="calio svelte-4rx1aq"},m(i,a){l(i,t,a);for(var c=0;c<r.length;c+=1)r[c].m(t,null);s(t,n);for(c=0;c<y.length;c+=1)y[c].m(t,null);var d;d=(()=>e.div_binding(t,null)),x.push(d),o=!0},p(e,o){if(e.computed){a=o.computed.headers;for(var s=0;s<a.length;s+=1){const i=j(o,a,s);r[s]?r[s].p(e,i):(r[s]=J(i),r[s].c(),r[s].m(t,n))}for(;s<r.length;s+=1)r[s].d(1);r.length=a.length}if(e.dates||e.props){f=o.dates;for(s=0;s<f.length;s+=1){const n=q(o,f,s);y[s]?(y[s].p(e,n),y[s].i(1)):(y[s]=W(n),y[s].c(),y[s].i(1),y[s].m(t,null))}for(D={remaining:0,callbacks:[]};s<y.length;s+=1)v(s,1,1);D.remaining||i(D.callbacks)}e.items&&(o.div_binding(null,t),o.div_binding(t,null))},i(e){if(!o){for(var t=0;t<f.length;t+=1)y[t].i();o=!0}},o(e){y=y.filter(Boolean);for(let e=0;e<y.length;e+=1)v(e,0);o=!1},d(n){n&&c(t),d(r,n),d(y,n),e.div_binding(null,t)}}}function R(e=null){return e?e instanceof U?e:Array.isArray(e)?new U(...e):new U(e):null}function H(e,t,n){const o=new U,i=g();let a,r,s,l,c=null,d=new U,{headers:u=["Su","Mo","Tu","We","Th","Fr","Sa"],mode:m="single",strict:h=!1,disabled:f=[],value:y=null,limit:p=null,min:b=null,max:x=null}=t;function T(e){if(e=R(e)){if(s.disabled.find(t=>t.isSame(e))||s.min&&e.isBefore(s.min)||s.max&&e.isAfter(s.max))return;switch(m){case"range":n("selection",c=function(e,t,n,o){let i=(new Array).concat(t).filter(Boolean)||[],a=i.findIndex(t=>t.isSame(e));if(a>-1)return i.splice(a,1),i;if(i.length>1)return[e.clone()];if(i=[...i,e.clone()].sort((e,t)=>e.timestamp()-t.timestamp()),n){let[e,t]=i;if(t&&o.find(n=>n.isAfter(e)&&n.isBefore(t)))return}return i}(e,c,h,s.disabled));break;case"multi":n("selection",c=function(e,t,n){let o=(new Array).concat(t).filter(Boolean)||[],i=o.findIndex(t=>t.isSame(e));return i>-1?(o.splice(i,1),o):!n||o.length<n?o=[...o,e.clone()].sort((e,t)=>e.timestamp()-t.timestamp()):o}(e,c,p));break;default:[c,d]=function(e,t){return[e.clone(),t.isSameMonth(e)?t:e.clone().startOfMonth()]}(e,d),n("selection",c),n("view",d)}}}return v(()=>{n("view",d),n("selection",c),(new Array).concat(y).forEach(e=>T(e)),(M(),$).then(()=>{d&&z(i,a,"view",d),c&&z(i,a,"selection",c)})}),e.$set=(e=>{"headers"in e&&n("headers",u=e.headers),"mode"in e&&n("mode",m=e.mode),"strict"in e&&n("strict",h=e.strict),"disabled"in e&&n("disabled",f=e.disabled),"value"in e&&n("value",y=e.value),"limit"in e&&n("limit",p=e.limit),"min"in e&&n("min",b=e.min),"max"in e&&n("max",x=e.max)}),e.$$.update=((e={min:1,max:1,headers:1,disabled:1,view:1,computed:1,selection:1,mode:1,el:1,props:1})=>{(e.min||e.max||e.headers||e.disabled)&&n("computed",s={min:R(b),max:R(x),headers:u.length?new Array(7).fill("",0,7).map((e,t)=>u[t]||e):[],disabled:(new Array).concat(f).filter(Boolean).map(R)}),(e.view||e.computed)&&n("dates",l=function(e,t){let n,o,i=e.clone().startOfMonth(),a=[];n=i.dayOfWeek();for(let e=0;e<n;e++)a.unshift(i.clone().date(-e));i.endOfMonth();for(let e=1,t=i.date();e<=t;e++)a.push(i.clone().date(e));o=i.dayOfWeek(),i.startOfMonth().addMonth();for(let e=1;e<7-o;e++)a.push(i.clone().date(e));return a}(d,s.disabled)),(e.computed||e.selection||e.view||e.mode)&&n("props",r={disabled:s.disabled,min:s.min,max:s.max,selection:c,view:d,mode:m}),(e.el||e.selection)&&z(i,a,"selection",c),(e.el||e.view)&&z(i,a,"view",d),(e.el||e.computed)&&z(i,a,"min",s.min),(e.el||e.computed)&&z(i,a,"max",s.max),(e.el||e.props)&&z(i,a,"update",r)}),{el:a,props:r,computed:s,headers:u,mode:m,strict:h,disabled:f,value:y,limit:p,min:b,max:x,select:T,goToYear:function(e){n("view",d=d.clone().year(e))},goToNextYear:function(){n("view",d=d.clone().addYear())},goToLastYear:function(){n("view",d=d.clone().subYear())},goToMonth:function(e){n("view",d=d.clone().startOfMonth().month(e-1))},goToNextMonth:function(){n("view",d=d.clone().startOfMonth().addMonth())},goToLastMonth:function(){n("view",d=d.clone().startOfMonth().subMonth())},goToThisMonth:function(){n("view",d=o.clone().startOfMonth())},goToSelection:function(){"single"===m&&c&&n("view",d=c.clone().startOfMonth())},goTo:function(e){(e=R(e))&&n("view",d=e.clone().startOfMonth())},dates:l,select_handler:function({day:e},t){return T(e)},div_binding:function(e,t){n("el",a=e)}}}class P extends _{constructor(e){var t;super(),document.getElementById("svelte-4rx1aq-style")||((t=u("style")).id="svelte-4rx1aq-style",t.textContent=".calio.svelte-4rx1aq{display:-ms-inline-grid;display:inline-grid;-ms-grid-columns:(var(--size-x, var(--size, 2.25em)))[7];grid-template-columns:repeat(7, var(--size-x, var(--size, 2.25em)));grid-auto-rows:var(--size-y, var(--size, 2em));line-height:var(--size-y, var(--size, 2em));text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.calio-head.svelte-4rx1aq{color:var(--color, #333);font-weight:bold}",s(document.head,t)),O(this,e,H,I,r,["headers","mode","strict","disabled","value","limit","min","max","select","makeMyDay","goToYear","goToNextYear","goToLastYear","goToMonth","goToNextMonth","goToLastMonth","goToThisMonth","goToSelection","goTo"])}get select(){return this.$$.ctx.select}get makeMyDay(){return R}get goToYear(){return this.$$.ctx.goToYear}get goToNextYear(){return this.$$.ctx.goToNextYear}get goToLastYear(){return this.$$.ctx.goToLastYear}get goToMonth(){return this.$$.ctx.goToMonth}get goToNextMonth(){return this.$$.ctx.goToNextMonth}get goToLastMonth(){return this.$$.ctx.goToLastMonth}get goToThisMonth(){return this.$$.ctx.goToThisMonth}get goToSelection(){return this.$$.ctx.goToSelection}get goTo(){return this.$$.ctx.goTo}}return class{constructor(e,t={}){const n=["headers","mode","strict","disabled","value","limit","min","max"],o="string"==typeof e?document.querySelector(e):e;return new P({target:o,props:Object.keys(t).filter(e=>n.includes(e)).reduce((e,n)=>(e[n]=t[n],e),{})})}}}();
