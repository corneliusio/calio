var Calio=function(){"use strict";function e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var s=[],i=!0,a=!1,n=void 0;try{for(var r,o=e[Symbol.iterator]();!(i=(r=o.next()).done)&&(s.push(r.value),!t||s.length!==t);i=!0);}catch(e){a=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(a)throw n}}return s}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function t(){}function s(e,t){for(var s in t)e[s]=t[s];return e}function i(e,t){for(var s in t)e[s]=1;return e}function a(e,t){t.appendChild(e)}function n(e,t,s){t.insertBefore(e,s)}function r(e){e.parentNode.removeChild(e)}function o(e,t){for(var s=0;s<e.length;s+=1)e[s]&&e[s].d(t)}function l(e){return document.createElement(e)}function c(e){return document.createTextNode(e)}function d(e,t){e._handlers=Object.create(null),e._bind=t._bind,e.options=t,e.root=t.root||e,e.store=e.root.store||t.store}function h(e){for(;e&&e.length;)e.shift()()}var u={destroy:function(e){this.destroy=t,this.fire("destroy"),this.set=t,this._fragment.d(!1!==e),this._fragment=null,this._state={}},get:function(){return this._state},fire:function(e,t){var s=e in this._handlers&&this._handlers[e].slice();if(s)for(var i=0;i<s.length;i+=1){var a=s[i];a.__calling||(a.__calling=!0,a.call(this,t),a.__calling=!1)}},on:function(e,t){var s=this._handlers[e]||(this._handlers[e]=[]);return s.push(t),{cancel:function(){var e=s.indexOf(t);~e&&s.splice(e,1)}}},set:function(e){this._set(s({},e)),this.root._lock||(this.root._lock=!0,h(this.root._beforecreate),h(this.root._oncreate),h(this.root._aftercreate),this.root._lock=!1)},_recompute:t,_set:function(e){var t=this._state,i={},a=!1;for(var n in e)this._differs(e[n],t[n])&&(i[n]=a=!0);a&&(this._state=s(s({},t),e),this._recompute(i,this._state),this._bind&&this._bind(i,this._state),this._fragment&&(this.fire("state",{changed:i,current:this._state,previous:t}),this._fragment.p(i,this._state),this.fire("update",{changed:i,current:this._state,previous:t})))},_mount:function(e,t){this._fragment[this._fragment.i?"i":"m"](e,t||null)},_differs:function(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}};const m=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,f={masks:{default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},i18n:{dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]}};function y(e,t=2){for(e=`${e}`;e.length<t;)e=`0${e}`;return e}class v{constructor(...e){const t=e[0],s=e[1],i=e[2];e.length>1?this.value=new Date(t,s,i):t?t instanceof v?this.value=t.clone().value:t instanceof Date?this.value=t:["number","string"].includes(typeof t)&&(this.value=new Date(t)):this.value=new Date,this.value.setUTCHours(0),this.value.setUTCMinutes(0),this.value.setUTCSeconds(0),this.value.setUTCMilliseconds(0)}year(e=null){return null!==e?(this.value.setUTCFullYear(e),this):this.value.getUTCFullYear()}month(e=null){return null!==e?(this.value.setUTCMonth(e),this):this.value.getUTCMonth()}date(e=null){return null!==e?(this.value.setUTCDate(e),this):this.value.getUTCDate()}addDay(e=1){return this.date(this.date()+e),this}addMonth(e=1){return this.month(this.month()+e),this}addYear(e=1){return this.year(this.year()+e),this}subDay(e=1){return this.date(this.date()-e),this}subMonth(e=1){return this.month(this.month()-e),this}subYear(e=1){return this.year(this.year()-e),this}dayOfWeek(){return this.value.getUTCDay()}endOfMonth(){return this.addMonth(),this.date(0),this}startOfMonth(){return this.date(1),this}isAfter(e){return this.value>e.value}isBefore(e){return this.value<e.value}isSame(e){return this.year()===e.year()&&this.month()===e.month()&&this.date()===e.date()}isSameMonth(e){return this.year()===e.year()&&this.month()===e.month()}isSameYear(e){return this.year()===e.year()}timestamp(){return this.value.getTime()}format(e){return function(e,t="default"){"object"==typeof e&&"timestamp"in e&&(e=e.timestamp()),e=e instanceof Date?e:new Date(e),t=`${f.masks[t]||t||f.masks.default}`;let s=e.getUTCDate(),i=e.getUTCDay(),a=e.getUTCMonth(),n=e.getUTCFullYear(),r={d:s,dd:y(s),ddd:f.i18n.dayNames[i],dddd:f.i18n.dayNames[i+7],m:a+1,mm:y(a+1),mmm:f.i18n.monthNames[a],mmmm:f.i18n.monthNames[a+12],yy:String(n).slice(2),yyyy:n,S:["th","st","nd","rd"][s%10>3?0:(s%100-s%10!=10)*s%10]};return t.replace(m,e=>e in r?r[e]:e.slice(1,e.length-1))}(this.timestamp(),e)}clone(){return new v(this.timestamp())}toString(){return this.value.toString()}}const g=new v;function p(e){var t;d(this,e),this._state=s({},e.data),this._recompute({props:1,day:1,isActive:1,isDisabled:1,isRanged:1},this._state),document.getElementById("svelte-1mp2c5z-style")||((t=l("style")).id="svelte-1mp2c5z-style",t.textContent=".calio-day.svelte-1mp2c5z{cursor:pointer;color:var(--color, #333)}.calio-day.svelte-1mp2c5z:hover{color:var(--color-hover, var(--color, #333));background:var(--bg-hover, #EEE)}.calio-day.is-today.svelte-1mp2c5z{font-weight:900}.calio-day.is-prev.svelte-1mp2c5z,.calio-day.is-next.svelte-1mp2c5z{color:var(--color-inactive, #CCC);background:var(--bg-inactive, transparent)}.calio-day.is-disabled.svelte-1mp2c5z{pointer-events:none;color:var(--color-disabled, var(--color-inactive, #CCC));background:var(--bg-disabled, transparent);opacity:var(--opacity-disabled, 0.5)}.calio-day.is-ranged.svelte-1mp2c5z{color:var(--color-ranged, var(--color-active, white));background:var(--bg-ranged, var(--bg-active, rgba(100, 149, 237, 0.66)))}.calio-day.is-active.svelte-1mp2c5z{color:var(--color-active, white);background:var(--bg-active, rgb(100, 149, 237))}",a(t,document.head)),this._fragment=function(e,t){var s,i,o,d=t.day.date();function h(s){e.fire("select",t.day)}return{c(){var e,a;s=l("span"),i=c(d),e="click",a=h,s.addEventListener(e,a,!1),s.className=o="calio-day "+t.classes+" svelte-1mp2c5z"},m(e,t){n(s,e,t),a(i,s)},p(e,a){t=a,e.day&&d!==(d=t.day.date())&&(i.data=d),e.classes&&o!==(o="calio-day "+t.classes+" svelte-1mp2c5z")&&(s.className=o)},d(e){var t,i;e&&r(s),t="click",i=h,s.removeEventListener(t,i,!1)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}s(p.prototype,u),p.prototype._recompute=function(t,s){(t.props||t.day)&&(this._differs(s.isActive,s.isActive=function({props:{selection:e},day:t}){return(e=(new Array).concat(e).filter(Boolean)).find(e=>t.isSame(e))}(s))&&(t.isActive=!0),this._differs(s.isDisabled,s.isDisabled=function({props:{min:e,max:t,disabled:s},day:i}){return s.find(e=>e.isSame&&e.isSame(i))||e&&i.isBefore(e)||t&&i.isAfter(t)}(s))&&(t.isDisabled=!0),this._differs(s.isRanged,s.isRanged=function({props:{selection:t,mode:s},day:i}){if("range"===s&&t){let s=e(t,2),a=s[0],n=s[1];if(a&&n)return i.isAfter(a)&&i.isBefore(n)}return!1}(s))&&(t.isRanged=!0)),(t.props||t.day||t.isActive||t.isDisabled||t.isRanged)&&this._differs(s.classes,s.classes=function({props:{view:e},day:t,isActive:s,isDisabled:i,isRanged:a}){return[t.isSame(g)&&"is-today",e.endOfMonth().isBefore(t)&&"is-next",e.startOfMonth().isAfter(t)&&"is-prev",i&&"is-disabled",a&&"is-ranged",s&&"is-active"].filter(Boolean).join(" ")}(s))&&(t.classes=!0)};const _=new v;var b={makeMyDay:(e=null)=>e?e instanceof v?e:Array.isArray(e)?new v(...e):new v(e):null,select(e){const t=this.get().mode;if(e=this.makeMyDay(e))switch(t){case"range":this.updateRange(e);break;case"multi":this.updateMulti(e);break;default:this.updateSingle(e)}},updateRange(t){let s,i=this.get(),a=i.selection,n=i.disabled,r=i.strict;if((s=(a=a||[]).findIndex(e=>e.isSame(t)))>-1)a.splice(s,1),this.set({selection:a});else if(a.length>1)this.set({selection:[t.clone()]});else{if(a=(a=[...a,t.clone()]).sort((e,t)=>e.timestamp()-t.timestamp()),r){let t=e(a,2),s=t[0],i=t[1];if(i&&!!n.find(e=>e.isAfter(s)&&e.isBefore(i)))return}this.set({selection:a})}},updateMulti(e){let t,s=this.get(),i=s.selection,a=s.limit;(t=(i=i||[]).findIndex(t=>t.isSame(e)))>-1?(i.splice(t,1),this.set({selection:i})):(!a||i.length<a)&&this.set({selection:[...i,e.clone()].sort((e,t)=>e.timestamp()-t.timestamp())})},updateSingle(e){this.set({selection:e.clone()})},goToYear(e){const t=this.get().view;this.set({view:t.clone().year(e)})},goToNextYear(){const e=this.get().view;this.set({view:e.clone().addYear()})},goToLastYear(){const e=this.get().view;this.set({view:e.clone().subYear()})},goToMonth(e){const t=this.get().view;this.set({view:t.clone().date(1).month(e-1)})},goToNextMonth(){const e=this.get().view;this.set({view:e.clone().date(1).addMonth()})},goToLastMonth(){const e=this.get().view;this.set({view:e.clone().date(1).subMonth()})},goToToday(){this.set({view:_.clone()})},goToSelection(){const e=this.get(),t=e.selection;"single"===e.mode&&t&&this.set({view:t.clone()})},goTo(e){(e=this.makeMyDay(e))&&this.set({view:e.clone()})}};function w({changed:e,previous:t,current:{mode:s,view:i,value:a,selection:n,disabled:r}}){if(e.view&&this.fire("view",i.clone().date(1)),t&&n&&e.selection&&("single"===s?(this.fire("select",n.clone()),n.isSameMonth(i)||(i=n.clone(),this.set({view:i}),this.fire("view",i.clone().date(1)))):this.fire("select",n.map(e=>e.clone()))),t&&e.value){const e=this.makeMyDay(a);i=e.clone(),this.set({view:i,selection:e}),this.fire("view",i.clone().date(1))}}function M(e,t){var s,i,o=t.day;return{c(){s=l("span"),i=c(o),s.className="calio-head svelte-ui4b82"},m(e,t){n(s,e,t),a(i,s)},p(e,t){e.head&&o!==(o=t.day)&&(i.data=o)},d(e){e&&r(s)}}}function T(e,t){var s={day:t.day,props:t.props},i=new p({root:e.root,data:s});return i.on("select",function(s){e.select(t.day)}),{c(){i._fragment.c()},m(e,t){i._mount(e,t)},p(e,s){t=s;var a={};e.dates&&(a.day=t.day),e.props&&(a.props=t.props),i._set(a)},d(e){i.destroy(e)}}}function D(e,t,s){const i=Object.create(e);return i.day=t[s],i.each_value=t,i.day_index=s,i}function S(e,t,s){const i=Object.create(e);return i.day=t[s],i.each_value_1=t,i.day_index_1=s,i}function k(e){var t;d(this,e),this._state=s({headers:["Su","Mo","Tu","We","Th","Fr","Sa"],view:new v,mode:"single",strict:!1,disabled:[],selection:null,value:null,limit:null,min:null,max:null},e.data),this._recompute({selection:1,mode:1,view:1,disabled:1,min:1,max:1,headers:1},this._state),this._handlers.state=[w],document.getElementById("svelte-ui4b82-style")||((t=l("style")).id="svelte-ui4b82-style",t.textContent=".calio.svelte-ui4b82{display:-ms-inline-grid;display:inline-grid;-ms-grid-columns:(var(--size-x, var(--size, 2.25em)))[7];grid-template-columns:repeat(7, var(--size-x, var(--size, 2.25em)));grid-auto-rows:var(--size-y, var(--size, 2em));line-height:var(--size-y, var(--size, 2em));text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.calio-head.svelte-ui4b82{color:var(--color, #333);font-weight:bold}",a(t,document.head)),e.root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this._fragment=function(e,t){for(var s,i,d=t.head,h=[],u=0;u<d.length;u+=1)h[u]=M(0,D(t,d,u));var m=t.dates,f=[];for(u=0;u<m.length;u+=1)f[u]=T(e,S(t,m,u));return{c(){s=l("div");for(var e=0;e<h.length;e+=1)h[e].c();for(i=c("\n    "),e=0;e<f.length;e+=1)f[e].c();s.className="calio svelte-ui4b82"},m(e,t){n(s,e,t);for(var r=0;r<h.length;r+=1)h[r].m(s,null);for(a(i,s),r=0;r<f.length;r+=1)f[r].m(s,null)},p(t,a){if(t.head){d=a.head;for(var n=0;n<d.length;n+=1){const e=D(a,d,n);h[n]?h[n].p(t,e):(h[n]=M(0,e),h[n].c(),h[n].m(s,i))}for(;n<h.length;n+=1)h[n].d(1);h.length=d.length}if(t.dates||t.props){for(m=a.dates,n=0;n<m.length;n+=1){const i=S(a,m,n);f[n]?f[n].p(t,i):(f[n]=T(e,i),f[n].c(),f[n].m(s,null))}for(;n<f.length;n+=1)f[n].d(1);f.length=m.length}},d(e){e&&r(s),o(h,e),o(f,e)}}}(this,this._state),this.root._oncreate.push(()=>{w.call(this,{changed:i({},this._state),current:this._state}),function(){const e=this.get(),t=e.value,s=e.min,i=e.max,a=e.disabled;this.set({min:this.makeMyDay(s),max:this.makeMyDay(i),disabled:(new Array).concat(a).filter(Boolean).map(this.makeMyDay)}),(new Array).concat(t).forEach(e=>this.select(e))}.call(this),this.fire("update",{changed:i({},this._state),current:this._state})}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),this._lock=!0,h(this._beforecreate),h(this._oncreate),h(this._aftercreate),this._lock=!1)}s(k.prototype,u),s(k.prototype,b),k.prototype._recompute=function(e,t){(e.selection||e.mode||e.view||e.disabled||e.min||e.max)&&this._differs(t.props,t.props=function({selection:e,mode:t,view:s,disabled:i,min:a,max:n}){return{selection:e,mode:t,view:s,disabled:i,min:a,max:n}}(t))&&(e.props=!0),e.headers&&this._differs(t.head,t.head=function({headers:e}){return e.length?new Array(7).fill("",0,7).map((t,s)=>e[s]||t):[]}(t))&&(e.head=!0),(e.view||e.disabled)&&this._differs(t.dates,t.dates=function({view:e,disabled:t}){let s,i,a=e.clone().startOfMonth(),n=[];if(!Array.isArray(t))return[];s=a.dayOfWeek();for(let e=0;e<s;e++)n.unshift(a.clone().date(-e));a.endOfMonth();for(let e=1,t=a.date();e<=t;e++)n.push(a.clone().date(e));i=a.dayOfWeek(),a.startOfMonth().addMonth();for(let e=1;e<7-i;e++)n.push(a.clone().date(e));return n}(t))&&(e.dates=!0)};return class{constructor(e,t){return new k({target:"string"==typeof e?document.querySelector(e):e,data:t})}}}();
//# sourceMappingURL=calio.min.js.map
