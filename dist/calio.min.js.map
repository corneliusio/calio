{"version":3,"file":"calio.min.js","sources":["calio.js"],"sourcesContent":["function noop() {}\n\nfunction assign(tar, src) {\n\tfor (var k in src) tar[k] = src[k];\n\treturn tar;\n}\n\nfunction assignTrue(tar, src) {\n\tfor (var k in src) tar[k] = 1;\n\treturn tar;\n}\n\nfunction appendNode(node, target) {\n\ttarget.appendChild(node);\n}\n\nfunction insertNode(node, target, anchor) {\n\ttarget.insertBefore(node, anchor);\n}\n\nfunction detachNode(node) {\n\tnode.parentNode.removeChild(node);\n}\n\nfunction destroyEach(iterations, detach) {\n\tfor (var i = 0; i < iterations.length; i += 1) {\n\t\tif (iterations[i]) iterations[i].d(detach);\n\t}\n}\n\nfunction createElement(name) {\n\treturn document.createElement(name);\n}\n\nfunction createText(data) {\n\treturn document.createTextNode(data);\n}\n\nfunction createComment() {\n\treturn document.createComment('');\n}\n\nfunction addListener(node, event, handler) {\n\tnode.addEventListener(event, handler, false);\n}\n\nfunction removeListener(node, event, handler) {\n\tnode.removeEventListener(event, handler, false);\n}\n\nvar transitionManager = {\n\trunning: false,\n\ttransitions: [],\n\tbound: null,\n\tstylesheet: null,\n\tactiveRules: {},\n\n\tadd(transition) {\n\t\tthis.transitions.push(transition);\n\n\t\tif (!this.running) {\n\t\t\tthis.running = true;\n\t\t\trequestAnimationFrame(this.bound || (this.bound = this.next.bind(this)));\n\t\t}\n\t},\n\n\taddRule(rule, name) {\n\t\tif (!this.stylesheet) {\n\t\t\tconst style = createElement('style');\n\t\t\tdocument.head.appendChild(style);\n\t\t\ttransitionManager.stylesheet = style.sheet;\n\t\t}\n\n\t\tif (!this.activeRules[name]) {\n\t\t\tthis.activeRules[name] = true;\n\t\t\tthis.stylesheet.insertRule(`@keyframes ${name} ${rule}`, this.stylesheet.cssRules.length);\n\t\t}\n\t},\n\n\tnext() {\n\t\tthis.running = false;\n\n\t\tconst now = window.performance.now();\n\t\tlet i = this.transitions.length;\n\n\t\twhile (i--) {\n\t\t\tconst transition = this.transitions[i];\n\n\t\t\tif (transition.program && now >= transition.program.end) {\n\t\t\t\ttransition.done();\n\t\t\t}\n\n\t\t\tif (transition.pending && now >= transition.pending.start) {\n\t\t\t\ttransition.start(transition.pending);\n\t\t\t}\n\n\t\t\tif (transition.running) {\n\t\t\t\ttransition.update(now);\n\t\t\t\tthis.running = true;\n\t\t\t} else if (!transition.pending) {\n\t\t\t\tthis.transitions.splice(i, 1);\n\t\t\t}\n\t\t}\n\n\t\tif (this.running) {\n\t\t\trequestAnimationFrame(this.bound);\n\t\t} else if (this.stylesheet) {\n\t\t\tlet i = this.stylesheet.cssRules.length;\n\t\t\twhile (i--) this.stylesheet.deleteRule(i);\n\t\t\tthis.activeRules = {};\n\t\t}\n\t},\n\n\tdeleteRule(node, name) {\n\t\tnode.style.animation = node.style.animation\n\t\t\t.split(', ')\n\t\t\t.filter(anim => anim && anim.indexOf(name) === -1)\n\t\t\t.join(', ');\n\t},\n\n\tgroupOutros() {\n\t\tthis.outros = {\n\t\t\tremaining: 0,\n\t\t\tcallbacks: []\n\t\t};\n\t}\n};\n\nfunction destroyBlock(block, lookup) {\n\tblock.d(1);\n\tlookup[block.key] = null;\n}\n\nfunction outroAndDestroyBlock(block, lookup) {\n\tblock.o(function() {\n\t\tdestroyBlock(block, lookup);\n\t});\n}\n\nfunction updateKeyedEach(old_blocks, component, changed, get_key, dynamic, ctx, list, lookup, node, has_outro, create_each_block, intro_method, next, get_context) {\n\tvar o = old_blocks.length;\n\tvar n = list.length;\n\n\tvar i = o;\n\tvar old_indexes = {};\n\twhile (i--) old_indexes[old_blocks[i].key] = i;\n\n\tvar new_blocks = [];\n\tvar new_lookup = {};\n\tvar deltas = {};\n\n\tvar i = n;\n\twhile (i--) {\n\t\tvar child_ctx = get_context(ctx, list, i);\n\t\tvar key = get_key(child_ctx);\n\t\tvar block = lookup[key];\n\n\t\tif (!block) {\n\t\t\tblock = create_each_block(component, key, child_ctx);\n\t\t\tblock.c();\n\t\t} else if (dynamic) {\n\t\t\tblock.p(changed, child_ctx);\n\t\t}\n\n\t\tnew_blocks[i] = new_lookup[key] = block;\n\n\t\tif (key in old_indexes) deltas[key] = Math.abs(i - old_indexes[key]);\n\t}\n\n\tvar will_move = {};\n\tvar did_move = {};\n\n\tvar destroy = has_outro ? outroAndDestroyBlock : destroyBlock;\n\tif (has_outro) transitionManager.groupOutros();\n\n\tfunction insert(block) {\n\t\tblock[intro_method](node, next);\n\t\tlookup[block.key] = block;\n\t\tnext = block.first;\n\t\tn--;\n\t}\n\n\twhile (o && n) {\n\t\tvar new_block = new_blocks[n - 1];\n\t\tvar old_block = old_blocks[o - 1];\n\t\tvar new_key = new_block.key;\n\t\tvar old_key = old_block.key;\n\n\t\tif (new_block === old_block) {\n\t\t\t// do nothing\n\t\t\tnext = new_block.first;\n\t\t\to--;\n\t\t\tn--;\n\t\t}\n\n\t\telse if (!new_lookup[old_key]) {\n\t\t\t// remove old block\n\t\t\tdestroy(old_block, lookup);\n\t\t\to--;\n\t\t}\n\n\t\telse if (!lookup[new_key] || will_move[new_key]) {\n\t\t\tinsert(new_block);\n\t\t}\n\n\t\telse if (did_move[old_key]) {\n\t\t\to--;\n\n\t\t} else if (deltas[new_key] > deltas[old_key]) {\n\t\t\tdid_move[new_key] = true;\n\t\t\tinsert(new_block);\n\n\t\t} else {\n\t\t\twill_move[old_key] = true;\n\t\t\to--;\n\t\t}\n\t}\n\n\twhile (o--) {\n\t\tvar old_block = old_blocks[o];\n\t\tif (!new_lookup[old_block.key]) destroy(old_block, lookup);\n\t}\n\n\twhile (n) insert(new_blocks[n - 1]);\n\n\treturn new_blocks;\n}\n\nfunction blankObject() {\n\treturn Object.create(null);\n}\n\nfunction destroy(detach) {\n\tthis.destroy = noop;\n\tthis.fire('destroy');\n\tthis.set = noop;\n\n\tthis._fragment.d(detach !== false);\n\tthis._fragment = null;\n\tthis._state = {};\n}\n\nfunction _differs(a, b) {\n\treturn a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\n\nfunction fire(eventName, data) {\n\tvar handlers =\n\t\teventName in this._handlers && this._handlers[eventName].slice();\n\tif (!handlers) return;\n\n\tfor (var i = 0; i < handlers.length; i += 1) {\n\t\tvar handler = handlers[i];\n\n\t\tif (!handler.__calling) {\n\t\t\thandler.__calling = true;\n\t\t\thandler.call(this, data);\n\t\t\thandler.__calling = false;\n\t\t}\n\t}\n}\n\nfunction get() {\n\treturn this._state;\n}\n\nfunction init(component, options) {\n\tcomponent._handlers = blankObject();\n\tcomponent._bind = options._bind;\n\n\tcomponent.options = options;\n\tcomponent.root = options.root || component;\n\tcomponent.store = component.root.store || options.store;\n}\n\nfunction on(eventName, handler) {\n\tvar handlers = this._handlers[eventName] || (this._handlers[eventName] = []);\n\thandlers.push(handler);\n\n\treturn {\n\t\tcancel: function() {\n\t\t\tvar index = handlers.indexOf(handler);\n\t\t\tif (~index) handlers.splice(index, 1);\n\t\t}\n\t};\n}\n\nfunction set(newState) {\n\tthis._set(assign({}, newState));\n\tif (this.root._lock) return;\n\tthis.root._lock = true;\n\tcallAll(this.root._beforecreate);\n\tcallAll(this.root._oncreate);\n\tcallAll(this.root._aftercreate);\n\tthis.root._lock = false;\n}\n\nfunction _set(newState) {\n\tvar oldState = this._state,\n\t\tchanged = {},\n\t\tdirty = false;\n\n\tfor (var key in newState) {\n\t\tif (this._differs(newState[key], oldState[key])) changed[key] = dirty = true;\n\t}\n\tif (!dirty) return;\n\n\tthis._state = assign(assign({}, oldState), newState);\n\tthis._recompute(changed, this._state);\n\tif (this._bind) this._bind(changed, this._state);\n\n\tif (this._fragment) {\n\t\tthis.fire(\"state\", { changed: changed, current: this._state, previous: oldState });\n\t\tthis._fragment.p(changed, this._state);\n\t\tthis.fire(\"update\", { changed: changed, current: this._state, previous: oldState });\n\t}\n}\n\nfunction callAll(fns) {\n\twhile (fns && fns.length) fns.shift()();\n}\n\nfunction _mount(target, anchor) {\n\tthis._fragment[this._fragment.i ? 'i' : 'm'](target, anchor || null);\n}\n\nvar proto = {\n\tdestroy,\n\tget,\n\tfire,\n\ton,\n\tset,\n\t_recompute: noop,\n\t_set,\n\t_mount,\n\t_differs\n};\n\nconst token = /d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\\1?|[LloSZ]|\"[^\"]*\"|'[^']*'/g;\nconst formats = {\n    masks: {\n        default: 'ddd mmm dd yyyy HH:MM:ss',\n        shortDate: 'm/d/yy',\n        mediumDate: 'mmm d, yyyy',\n        longDate: 'mmmm d, yyyy',\n        fullDate: 'dddd, mmmm d, yyyy',\n        shortTime: 'h:MM TT',\n        mediumTime: 'h:MM:ss TT',\n        longTime: 'h:MM:ss TT Z',\n        isoDate: 'yyyy-mm-dd',\n        isoTime: 'HH:MM:ss',\n        isoDateTime: \"yyyy-mm-dd'T'HH:MM:ss\",\n        isoUtcDateTime: \"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'\"\n    },\n    i18n: {\n        dayNames: [\n            'Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat',\n            'Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'\n        ],\n        monthNames: [\n            'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec',\n            'January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'\n        ]\n    }\n};\n\nfunction pad(val, len = 2) {\n    val = `${val}`;\n    while (val.length < len) {\n        val = `0${val}`;\n    }\n\n    return val;\n}\n\nfunction format(date, mask = 'default') {\n\n    if (typeof date === 'object' && 'timestamp' in date) {\n        date = date.timestamp();\n    }\n\n    date = date instanceof Date ? date : new Date(date);\n    mask = `${formats.masks[mask] || mask || formats.masks.default}`;\n\n    let d = date.getUTCDate(),\n        D = date.getUTCDay(),\n        m = date.getUTCMonth(),\n        y = date.getUTCFullYear(),\n        flags = {\n            d: d,\n            dd: pad(d),\n            ddd: formats.i18n.dayNames[D],\n            dddd: formats.i18n.dayNames[D + 7],\n            m: m + 1,\n            mm: pad(m + 1),\n            mmm: formats.i18n.monthNames[m],\n            mmmm: formats.i18n.monthNames[m + 12],\n            yy: String(y).slice(2),\n            yyyy: y,\n            S: ['th', 'st', 'nd', 'rd'][d % 10 > 3 ? 0 : (d % 100 - d % 10 !== 10) * d % 10]\n        };\n\n    return mask.replace(token, $0 => {\n        return $0 in flags ? flags[$0] : $0.slice(1, $0.length - 1);\n    });\n}\n\nclass LilEpoch {\n\n    constructor(...args) {\n        const [a, b, c] = args;\n\n        if (args.length > 1) {\n            this.value = new Date(a, b, c);\n        } else if (a) {\n            if (a instanceof LilEpoch) {\n                this.value = a.clone().value;\n            } else if (a instanceof Date) {\n                this.value = a;\n            } else if (['number', 'string'].includes(typeof a)) {\n                this.value = new Date(a);\n            }\n        } else {\n            this.value = new Date();\n        }\n\n        this.value.setUTCHours(0);\n        this.value.setUTCMinutes(0);\n        this.value.setUTCSeconds(0);\n        this.value.setUTCMilliseconds(0);\n    }\n\n    year(y = null) {\n\n        if (y !== null) {\n            this.value.setUTCFullYear(y);\n\n            return this;\n        }\n\n        return this.value.getUTCFullYear();\n    }\n\n    month(m = null) {\n\n        if (m !== null) {\n            this.value.setUTCMonth(m);\n\n            return this;\n        }\n\n        return this.value.getUTCMonth();\n    }\n\n    date(d = null) {\n\n        if (d !== null) {\n            this.value.setUTCDate(d);\n\n            return this;\n        }\n\n        return this.value.getUTCDate();\n    }\n\n    addDay(d = 1) {\n        this.date(this.date() + d);\n\n        return this;\n    }\n\n    addMonth(m = 1) {\n        this.month(this.month() + m);\n\n        return this;\n    }\n\n    addYear(y = 1) {\n        this.year(this.year() + y);\n\n        return this;\n    }\n\n    subDay(d = 1) {\n        this.date(this.date() - d);\n\n        return this;\n    }\n\n    subMonth(m = 1) {\n        this.month(this.month() - m);\n\n        return this;\n    }\n\n    subYear(y = 1) {\n        this.year(this.year() - y);\n\n        return this;\n    }\n\n    dayOfWeek() {\n        return this.value.getUTCDay();\n    }\n\n    endOfMonth() {\n        this.addMonth();\n        this.date(0);\n\n        return this;\n    }\n\n    startOfMonth() {\n        this.date(1);\n\n        return this;\n    }\n\n    isAfter(day) {\n        return this.value > day.value;\n    }\n\n    isBefore(day) {\n        return this.value < day.value;\n    }\n\n    isSame(day) {\n        return this.year() === day.year()\n            && this.month() === day.month()\n            && this.date() === day.date();\n    }\n\n    isSameMonth(day) {\n        return this.year() === day.year()\n            && this.month() === day.month();\n    }\n\n    isSameYear(day) {\n        return this.year() === day.year();\n    }\n\n    timestamp() {\n        return this.value.getTime();\n    }\n\n    format(mask) {\n        return format(this.timestamp(), mask, true);\n    }\n\n    clone() {\n        return new LilEpoch(this.timestamp());\n    }\n\n    toString() {\n        return this.value.toString();\n    }\n}\n\n/* src/components/Day.svlt generated by Svelte v2.5.0 */\n\nconst today = new LilEpoch();\n\nfunction classes({view, day, isActive, isDisabled, isRanged}) {\n    return [\n        day.isSame(today) && 'is-today',\n        view.endOfMonth().isBefore(day) && 'is-next',\n        view.startOfMonth().isAfter(day) && 'is-prev',\n        isDisabled && 'is-disabled',\n        isRanged && 'is-ranged',\n        isActive && 'is-active'\n    ].filter(Boolean).join(' ');\n}\nfunction isActive({selection, day}) {\n    selection = new Array().concat(selection).filter(Boolean);\n\n    return selection.find(s => day.isSame(s));\n}\nfunction isDisabled({min, max, disabled, day}) {\n    return (disabled.find(d => d.isSame && d.isSame(day)))\n        || (min && day.isBefore(min))\n        || (max && day.isAfter(max));\n}\nfunction isRanged({selection, mode, day}) {\n    if (mode === 'range' && selection) {\n        let [start, end] = selection;\n\n        if (start && end) {\n            return day.isAfter(start) && day.isBefore(end);\n        }\n    }\n\n    return false;\n}\nfunction add_css() {\n\tvar style = createElement(\"style\");\n\tstyle.id = 'svelte-1mp2c5z-style';\n\tstyle.textContent = \".calio-day.svelte-1mp2c5z{cursor:pointer;color:var(--color, #333)}.calio-day.svelte-1mp2c5z:hover{color:var(--color-hover, var(--color, #333));background:var(--bg-hover, #EEE)}.calio-day.is-today.svelte-1mp2c5z{font-weight:900}.calio-day.is-prev.svelte-1mp2c5z,.calio-day.is-next.svelte-1mp2c5z{color:var(--color-inactive, #CCC);background:var(--bg-inactive, transparent)}.calio-day.is-disabled.svelte-1mp2c5z{pointer-events:none;color:var(--color-disabled, var(--color-inactive, #CCC));background:var(--bg-disabled, transparent);opacity:var(--opacity-disabled, 0.5)}.calio-day.is-ranged.svelte-1mp2c5z{color:var(--color-ranged, var(--color-active, white));background:var(--bg-ranged, var(--bg-active, rgba(100, 149, 237, 0.66)))}.calio-day.is-active.svelte-1mp2c5z{color:var(--color-active, white);background:var(--bg-active, rgb(100, 149, 237))}\";\n\tappendNode(style, document.head);\n}\n\nfunction create_main_fragment(component, ctx) {\n\tvar span, text_value = ctx.day.date(), text, span_class_value;\n\n\tfunction click_handler(event) {\n\t\tcomponent.fire('select', ctx.day);\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tspan = createElement(\"span\");\n\t\t\ttext = createText(text_value);\n\t\t\taddListener(span, \"click\", click_handler);\n\t\t\tspan.className = span_class_value = \"calio-day \" + ctx.classes + \" svelte-1mp2c5z\";\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsertNode(span, target, anchor);\n\t\t\tappendNode(text, span);\n\t\t},\n\n\t\tp(changed, _ctx) {\n\t\t\tctx = _ctx;\n\t\t\tif ((changed.day) && text_value !== (text_value = ctx.day.date())) {\n\t\t\t\ttext.data = text_value;\n\t\t\t}\n\n\t\t\tif ((changed.classes) && span_class_value !== (span_class_value = \"calio-day \" + ctx.classes + \" svelte-1mp2c5z\")) {\n\t\t\t\tspan.className = span_class_value;\n\t\t\t}\n\t\t},\n\n\t\td(detach) {\n\t\t\tif (detach) {\n\t\t\t\tdetachNode(span);\n\t\t\t}\n\n\t\t\tremoveListener(span, \"click\", click_handler);\n\t\t}\n\t};\n}\n\nfunction Day(options) {\n\tinit(this, options);\n\tthis._state = assign({}, options.data);\n\tthis._recompute({ selection: 1, day: 1, min: 1, max: 1, disabled: 1, mode: 1, view: 1, isActive: 1, isDisabled: 1, isRanged: 1 }, this._state);\n\n\tif (!document.getElementById(\"svelte-1mp2c5z-style\")) add_css();\n\n\tthis._fragment = create_main_fragment(this, this._state);\n\n\tif (options.target) {\n\t\tthis._fragment.c();\n\t\tthis._mount(options.target, options.anchor);\n\t}\n}\n\nassign(Day.prototype, proto);\n\nDay.prototype._recompute = function _recompute(changed, state) {\n\tif (changed.selection || changed.day) {\n\t\tif (this._differs(state.isActive, (state.isActive = isActive(state)))) changed.isActive = true;\n\t}\n\n\tif (changed.min || changed.max || changed.disabled || changed.day) {\n\t\tif (this._differs(state.isDisabled, (state.isDisabled = isDisabled(state)))) changed.isDisabled = true;\n\t}\n\n\tif (changed.selection || changed.mode || changed.day) {\n\t\tif (this._differs(state.isRanged, (state.isRanged = isRanged(state)))) changed.isRanged = true;\n\t}\n\n\tif (changed.view || changed.day || changed.isActive || changed.isDisabled || changed.isRanged) {\n\t\tif (this._differs(state.classes, (state.classes = classes(state)))) changed.classes = true;\n\t}\n};\n\n/* src/components/Calio.svlt generated by Svelte v2.5.0 */\n\nconst today$1 = new LilEpoch();\n\nfunction head({headers}) {\n    return headers.length\n        ? new Array(7).fill('', 0, 7).map((n, i) => headers[i] || n)\n        : [];\n}\nfunction dates({view, disabled}) {\n    let current = view.clone().startOfMonth(),\n        dates = [],\n        dayOfFirst,\n        dayOfLast;\n\n    if (!Array.isArray(disabled)) {\n        return [];\n    }\n\n    dayOfFirst = current.dayOfWeek();\n\n    for (let i = 0; i < dayOfFirst; i++) {\n        dates.unshift(current.clone().date(-i));\n    }\n\n    current.endOfMonth();\n\n    for (let i = 1, days = current.date(); i <= days; i++) {\n        dates.push(current.clone().date(i));\n    }\n\n    dayOfLast = current.dayOfWeek();\n    current.startOfMonth().addMonth();\n\n    for (let i = 1; i < (7 - dayOfLast); i++) {\n        dates.push(current.clone().date(i));\n    }\n\n    return dates;\n}\nfunction data() {\n    return {\n        headers: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],\n        view: new LilEpoch(),\n        mode: 'single',\n        strict: false,\n        disabled: [],\n        selection: null,\n        value: null,\n        limit: null,\n        min: null,\n        max: null\n    };\n}\nvar methods = {\n\n    makeMyDay(day = null) {\n        return day\n            ? (day instanceof LilEpoch)\n                ? day : Array.isArray(day)\n                    ? new LilEpoch(...day) : new LilEpoch(day)\n            : null;\n    },\n\n    select(day) {\n        const {mode} = this.get();\n\n        day = this.makeMyDay(day);\n\n        if (day) {\n            switch (mode) {\n            case 'range' :\n                this.updateRange(day);\n                break;\n            case 'multi' :\n                this.updateMulti(day);\n                break;\n            default :\n                this.updateSingle(day);\n                break;\n            }\n        }\n    },\n\n    updateRange(day) {\n        let {selection, disabled, strict} = this.get(),\n            index;\n\n        selection = selection || [];\n        index = selection.findIndex(s => s.isSame(day));\n\n        if (index > -1) {\n            selection.splice(index, 1);\n            this.set({selection});\n        } else if (selection.length > 1) {\n            this.set({\n                selection: [day.clone()]\n            });\n        } else {\n            selection = [...selection, day.clone()];\n\n            selection = selection.sort((a, b) => {\n                return a.timestamp() - b.timestamp();\n            });\n\n            if (strict) {\n                let [start, end] = selection,\n                    isInvalid = end && !!disabled.find(d => {\n                        return d.isAfter(start) && d.isBefore(end);\n                    });\n\n                if (isInvalid) {\n                    return;\n                }\n            }\n\n            this.set({\n                selection: selection\n            });\n        }\n    },\n\n    updateMulti(day) {\n        let {selection, limit} = this.get(),\n            index;\n\n        selection = selection || [];\n        index = selection.findIndex(s => s.isSame(day));\n\n        if (index > -1) {\n            selection.splice(index, 1);\n            this.set({selection});\n        } else if (!limit || selection.length < limit) {\n            this.set({\n                selection: [...selection, day.clone()].sort((a, b) => {\n                    return a.timestamp() - b.timestamp();\n                })\n            });\n        }\n    },\n\n    updateSingle(day) {\n        this.set({\n            selection: day.clone()\n        });\n    },\n\n    goToYear(y) {\n        const {view} = this.get();\n\n        this.set({\n            view: view.clone().year(y)\n        });\n    },\n\n    goToNextYear() {\n        const {view} = this.get();\n\n        this.set({\n            view: view.clone().addYear()\n        });\n    },\n\n    goToLastYear() {\n        const {view} = this.get();\n\n        this.set({\n            view: view.clone().subYear()\n        });\n    },\n\n    goToMonth(m) {\n        const {view} = this.get();\n\n        this.set({\n            view: view.clone().date(1).month(m - 1)\n        });\n    },\n\n    goToNextMonth() {\n        const {view} = this.get();\n\n        this.set({\n            view: view.clone().date(1).addMonth()\n        });\n    },\n\n    goToLastMonth() {\n        const {view} = this.get();\n\n        this.set({\n            view: view.clone().date(1).subMonth()\n        });\n    },\n\n    goToToday() {\n        this.set({\n            view: today$1.clone()\n        });\n    },\n\n    goToSelection() {\n        const {selection, mode} = this.get();\n\n        if (mode === 'single' && selection) {\n            this.set({\n                view: selection.clone()\n            });\n        }\n    },\n\n    goTo(day) {\n        day = this.makeMyDay(day);\n\n        if (day) {\n            this.set({\n                view: day.clone()\n            });\n        }\n    }\n};\n\nfunction oncreate() {\n    const {value, min, max, disabled} = this.get();\n\n    this.set({\n        min: this.makeMyDay(min),\n        max: this.makeMyDay(max),\n        disabled: new Array()\n            .concat(disabled)\n            .filter(Boolean)\n            .map(this.makeMyDay)\n    });\n\n    new Array().concat(value).forEach(v => this.select(v));\n}\nfunction onstate({changed, previous, current: {mode, view, value, selection, disabled}}) {\n\n    if (changed.view) {\n        this.fire('view', view.clone());\n    }\n\n    if (previous && selection && changed.selection) {\n\n        if (mode === 'single') {\n            this.fire('select', selection.clone());\n\n            if (!selection.isSameMonth(view)) {\n                view = selection.clone();\n                this.set({view});\n                this.fire('view', view.clone());\n            }\n        } else {\n            this.fire('select', selection.map(s => s.clone()));\n        }\n    }\n\n    if (previous && changed.value) {\n        const selection = this.makeMyDay(value);\n\n        view = selection.clone();\n        this.set({view, selection});\n        this.fire('view', view.clone());\n    }\n}\nfunction add_css$1() {\n\tvar style = createElement(\"style\");\n\tstyle.id = 'svelte-ui4b82-style';\n\tstyle.textContent = \".calio.svelte-ui4b82{display:-ms-inline-grid;display:inline-grid;-ms-grid-columns:(var(--size-x, var(--size, 2.25em)))[7];grid-template-columns:repeat(7, var(--size-x, var(--size, 2.25em)));grid-auto-rows:var(--size-y, var(--size, 2em));line-height:var(--size-y, var(--size, 2em));text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.calio-head.svelte-ui4b82{color:var(--color, #333);font-weight:bold}\";\n\tappendNode(style, document.head);\n}\n\nfunction create_main_fragment$1(component, ctx) {\n\tvar div, text, each_1_blocks_1 = [], each_1_lookup = blankObject();\n\n\tvar each_value = ctx.head;\n\n\tvar each_blocks = [];\n\n\tfor (var i = 0; i < each_value.length; i += 1) {\n\t\teach_blocks[i] = create_each_block(component, get_each_context(ctx, each_value, i));\n\t}\n\n\tvar each_value_1 = ctx.dates;\n\n\tconst get_key = ctx => ctx.day.timestamp();\n\n\tfor (var i = 0; i < each_value_1.length; i += 1) {\n\t\tlet child_ctx = get_each_1_context(ctx, each_value_1, i);\n\t\tlet key = get_key(child_ctx);\n\t\teach_1_blocks_1[i] = each_1_lookup[key] = create_each_block_1(component, key, child_ctx);\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = createElement(\"div\");\n\n\t\t\tfor (var i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\ttext = createText(\"\\n    \");\n\n\t\t\tfor (i = 0; i < each_1_blocks_1.length; i += 1) each_1_blocks_1[i].c();\n\t\t\tdiv.className = \"calio svelte-ui4b82\";\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsertNode(div, target, anchor);\n\n\t\t\tfor (var i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(div, null);\n\t\t\t}\n\n\t\t\tappendNode(text, div);\n\n\t\t\tfor (i = 0; i < each_1_blocks_1.length; i += 1) each_1_blocks_1[i].m(div, null);\n\t\t},\n\n\t\tp(changed, ctx) {\n\t\t\tif (changed.head) {\n\t\t\t\teach_value = ctx.head;\n\n\t\t\t\tfor (var i = 0; i < each_value.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context(ctx, each_value, i);\n\n\t\t\t\t\tif (each_blocks[i]) {\n\t\t\t\t\t\teach_blocks[i].p(changed, child_ctx);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks[i] = create_each_block(component, child_ctx);\n\t\t\t\t\t\teach_blocks[i].c();\n\t\t\t\t\t\teach_blocks[i].m(div, text);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor (; i < each_blocks.length; i += 1) {\n\t\t\t\t\teach_blocks[i].d(1);\n\t\t\t\t}\n\t\t\t\teach_blocks.length = each_value.length;\n\t\t\t}\n\n\t\t\tvar each_value_1 = ctx.dates;\n\n\t\t\teach_1_blocks_1 = updateKeyedEach(each_1_blocks_1, component, changed, get_key, 1, ctx, each_value_1, each_1_lookup, div, false, create_each_block_1, \"m\", null, get_each_1_context);\n\t\t},\n\n\t\td(detach) {\n\t\t\tif (detach) {\n\t\t\t\tdetachNode(div);\n\t\t\t}\n\n\t\t\tdestroyEach(each_blocks, detach);\n\n\t\t\tfor (i = 0; i < each_1_blocks_1.length; i += 1) each_1_blocks_1[i].d();\n\t\t}\n\t};\n}\n\n// (2:4) {#each head as day}\nfunction create_each_block(component, ctx) {\n\tvar span, text_value = ctx.day, text;\n\n\treturn {\n\t\tc() {\n\t\t\tspan = createElement(\"span\");\n\t\t\ttext = createText(text_value);\n\t\t\tspan.className = \"calio-head svelte-ui4b82\";\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsertNode(span, target, anchor);\n\t\t\tappendNode(text, span);\n\t\t},\n\n\t\tp(changed, ctx) {\n\t\t\tif ((changed.head) && text_value !== (text_value = ctx.day)) {\n\t\t\t\ttext.data = text_value;\n\t\t\t}\n\t\t},\n\n\t\td(detach) {\n\t\t\tif (detach) {\n\t\t\t\tdetachNode(span);\n\t\t\t}\n\t\t}\n\t};\n}\n\n// (5:4) {#each dates as day (day.timestamp())}\nfunction create_each_block_1(component, key_1, ctx) {\n\tvar first;\n\n\tvar day_initial_data = {\n\t \tselection: ctx.selection,\n\t \tmode: ctx.mode,\n\t \tview: ctx.view,\n\t \tdisabled: ctx.disabled,\n\t \tmin: ctx.min,\n\t \tmax: ctx.max,\n\t \tday: ctx.day\n\t };\n\tvar day = new Day({\n\t\troot: component.root,\n\t\tdata: day_initial_data\n\t});\n\n\tday.on(\"select\", function(event) {\n\t\tcomponent.select(ctx.day);\n\t});\n\n\treturn {\n\t\tkey: key_1,\n\n\t\tfirst: null,\n\n\t\tc() {\n\t\t\tfirst = createComment();\n\t\t\tday._fragment.c();\n\t\t\tthis.first = first;\n\t\t},\n\n\t\tm(target, anchor) {\n\t\t\tinsertNode(first, target, anchor);\n\t\t\tday._mount(target, anchor);\n\t\t},\n\n\t\tp(changed, _ctx) {\n\t\t\tctx = _ctx;\n\t\t\tvar day_changes = {};\n\t\t\tif (changed.selection) day_changes.selection = ctx.selection;\n\t\t\tif (changed.mode) day_changes.mode = ctx.mode;\n\t\t\tif (changed.view) day_changes.view = ctx.view;\n\t\t\tif (changed.disabled) day_changes.disabled = ctx.disabled;\n\t\t\tif (changed.min) day_changes.min = ctx.min;\n\t\t\tif (changed.max) day_changes.max = ctx.max;\n\t\t\tif (changed.dates) day_changes.day = ctx.day;\n\t\t\tday._set(day_changes);\n\t\t},\n\n\t\td(detach) {\n\t\t\tif (detach) {\n\t\t\t\tdetachNode(first);\n\t\t\t}\n\n\t\t\tday.destroy(detach);\n\t\t}\n\t};\n}\n\nfunction get_each_context(ctx, list, i) {\n\tconst child_ctx = Object.create(ctx);\n\tchild_ctx.day = list[i];\n\tchild_ctx.each_value = list;\n\tchild_ctx.day_index = i;\n\treturn child_ctx;\n}\n\nfunction get_each_1_context(ctx, list, i) {\n\tconst child_ctx = Object.create(ctx);\n\tchild_ctx.day = list[i];\n\tchild_ctx.each_value_1 = list;\n\tchild_ctx.day_index_1 = i;\n\treturn child_ctx;\n}\n\nfunction Calio(options) {\n\tinit(this, options);\n\tthis._state = assign(data(), options.data);\n\tthis._recompute({ headers: 1, view: 1, disabled: 1 }, this._state);\n\n\tthis._handlers.state = [onstate];\n\n\tif (!document.getElementById(\"svelte-ui4b82-style\")) add_css$1();\n\n\tif (!options.root) {\n\t\tthis._oncreate = [];\n\t\tthis._beforecreate = [];\n\t\tthis._aftercreate = [];\n\t}\n\n\tthis._fragment = create_main_fragment$1(this, this._state);\n\n\tthis.root._oncreate.push(() => {\n\t\tonstate.call(this, { changed: assignTrue({}, this._state), current: this._state });\n\t\toncreate.call(this);\n\t\tthis.fire(\"update\", { changed: assignTrue({}, this._state), current: this._state });\n\t});\n\n\tif (options.target) {\n\t\tthis._fragment.c();\n\t\tthis._mount(options.target, options.anchor);\n\n\t\tthis._lock = true;\n\t\tcallAll(this._beforecreate);\n\t\tcallAll(this._oncreate);\n\t\tcallAll(this._aftercreate);\n\t\tthis._lock = false;\n\t}\n}\n\nassign(Calio.prototype, proto);\nassign(Calio.prototype, methods);\n\nCalio.prototype._recompute = function _recompute(changed, state) {\n\tif (changed.headers) {\n\t\tif (this._differs(state.head, (state.head = head(state)))) changed.head = true;\n\t}\n\n\tif (changed.view || changed.disabled) {\n\t\tif (this._differs(state.dates, (state.dates = dates(state)))) changed.dates = true;\n\t}\n};\n\nclass index {\n    constructor(el, data) {\n        const target = (typeof el === 'string')\n            ? document.querySelector(el)\n            : el;\n\n        return new Calio({\n            target,\n            data\n        });\n    }\n}\n\nexport default index;\n"],"names":["noop","assign","tar","src","k","assignTrue","appendNode","node","target","appendChild","insertNode","anchor","insertBefore","detachNode","parentNode","removeChild","createElement","name","document","createText","data","createTextNode","transitionManager","transition","transitions","push","this","running","bound","next","bind","rule","stylesheet","style","head","sheet","activeRules","insertRule","cssRules","length","now","window","performance","i","program","end","done","pending","start","update","splice","deleteRule","animation","split","filter","anim","indexOf","join","outros","destroyBlock","block","lookup","d","key","outroAndDestroyBlock","o","blankObject","Object","create","init","component","options","_handlers","_bind","root","store","callAll","fns","shift","proto","detach","destroy","fire","set","_fragment","_state","eventName","handlers","slice","handler","__calling","call","index","newState","_set","_lock","_beforecreate","_oncreate","_aftercreate","oldState","changed","dirty","_differs","_recompute","p","a","b","token","formats","pad","val","len","LilEpoch","args","c","value","Date","clone","includes","setUTCHours","setUTCMinutes","setUTCSeconds","setUTCMilliseconds","y","setUTCFullYear","getUTCFullYear","m","setUTCMonth","getUTCMonth","setUTCDate","getUTCDate","date","month","year","getUTCDay","addMonth","day","getTime","mask","timestamp","masks","default","D","flags","i18n","dayNames","monthNames","String","replace","$0","format","toString","today","Day","getElementById","id","textContent","ctx","span","text","span_class_value","text_value","click_handler","event","addEventListener","className","classes","_ctx","removeEventListener","create_main_fragment","_mount","prototype","state","selection","isActive","Array","concat","Boolean","find","s","isSame","min","max","disabled","isDisabled","isBefore","isAfter","mode","isRanged","view","endOfMonth","startOfMonth","today$1","methods","isArray","get","makeMyDay","updateRange","updateMulti","updateSingle","strict","findIndex","sort","limit","addYear","subYear","subMonth","onstate","previous","isSameMonth","map","create_main_fragment$1","div","each_1_blocks_1","each_1_lookup","each_value","each_blocks","create_each_block","get_each_context","each_value_1","dates","get_key","child_ctx","get_each_1_context","create_each_block_1","old_blocks","dynamic","list","has_outro","intro_method","get_context","n","old_indexes","new_blocks","new_lookup","deltas","Math","abs","will_move","did_move","insert","first","groupOutros","new_block","old_block","new_key","old_key","updateKeyedEach","iterations","key_1","day_initial_data","on","select","createComment","day_changes","day_index","day_index_1","Calio","forEach","v","headers","fill","dayOfFirst","dayOfLast","current","dayOfWeek","unshift","days","el","querySelector"],"mappings":"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"}